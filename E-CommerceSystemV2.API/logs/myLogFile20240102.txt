2024-01-02 06:42:24.361 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 06:42:29.355 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 06:42:29.701 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 06:42:30.772 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 06:42:30.772 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 06:42:30.778 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 06:42:30.778 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 06:42:30.778 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 06:42:30.838 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 06:42:30.839 +03:00 [INF] Hosting environment: Development
2024-01-02 06:42:30.839 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 06:42:31.230 +03:00 [INF] Server desktop-eni7p6d:5132:29ba119e successfully announced in 394.1497 ms
2024-01-02 06:42:31.430 +03:00 [INF] Server desktop-eni7p6d:5132:29ba119e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 06:42:31.853 +03:00 [INF] Server desktop-eni7p6d:5132:29ba119e all the dispatchers started
2024-01-02 06:42:35.438 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 06:42:35.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 517.2971ms
2024-01-02 06:42:36.822 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 06:42:36.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 28.5279ms
2024-01-02 06:42:37.053 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 06:42:37.598 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 545.0214ms
2024-01-02 06:42:39.245 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 06:42:40.494 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 06:42:41.922 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 06:42:42.395 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 06:42:43.281 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/TestGlobalErrorHandler - null null
2024-01-02 06:42:45.196 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler (E-CommerceSystemV2.API)'
2024-01-02 06:42:45.220 +03:00 [INF] Route matched with {action = "TestGlobalErrorHandler", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult TestGlobalErrorHandler() on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 06:42:45.550 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler (E-CommerceSystemV2.API) in 324.4632ms
2024-01-02 06:42:45.664 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler (E-CommerceSystemV2.API)'
2024-01-02 06:42:45.715 +03:00 [ERR] An unhandled exception has occurred while executing the request.
E_CommerceSystemV2.API.Exceptions.InternalServerError: This is a test exception to trigger the global error handler for internal server error.
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 22
   at lambda_method194(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 06:42:45.781 +03:00 [ERR] Exception Occurred :This is a test exception to trigger the global error handler for internal server error.
E_CommerceSystemV2.API.Exceptions.InternalServerError: This is a test exception to trigger the global error handler for internal server error.
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 22
   at lambda_method194(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 06:42:45.782 +03:00 [ERR] This is a test exception to trigger the global error handler for internal server error.
2024-01-02 06:42:45.809 +03:00 [ERR] HTTP GET /api/Products/TestGlobalErrorHandler responded 500 in 2515.7990 ms
2024-01-02 06:42:45.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/TestGlobalErrorHandler - 500 null application/json; charset=utf-8 2528.8348ms
2024-01-02 06:42:59.285 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/GetProductTags - null null
2024-01-02 06:42:59.291 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetProductTags (E-CommerceSystemV2.API)'
2024-01-02 06:42:59.298 +03:00 [INF] Route matched with {action = "GetProductTags", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_CommerceSystemV2.BL.DTOs.Products.ProductTagsReadDto]] GetProductTags() on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 06:42:59.916 +03:00 [INF] Executed DbCommand (213ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[CategoryId], [p].[CategoryType], [p].[Name], [p].[OrderId], [p].[Price], [p].[TagId], [t1].[ProductId], [t1].[TagId], [t1].[TagId0], [t1].[Name]
FROM [Products] AS [p]
LEFT JOIN (
    SELECT [t].[ProductId], [t].[TagId], [t0].[TagId] AS [TagId0], [t0].[Name]
    FROM [TagProducts] AS [t]
    INNER JOIN [Tags] AS [t0] ON [t].[TagId] = [t0].[TagId]
) AS [t1] ON [p].[ProductId] = [t1].[ProductId]
ORDER BY [p].[ProductId], [t1].[ProductId], [t1].[TagId]
2024-01-02 06:43:00.138 +03:00 [INF] Product tags => [{"ProductId":"96a86cbf-1d2c-4925-8b86-0bab35fd5c08","Name":"Sony Smart TV","TagIds":["925ee134-dbfb-4da2-9344-995e988190be"],"$type":"ProductTagsReadDto"},{"ProductId":"f2c1dac1-c987-4d16-815f-1142eb264212","Name":"HP Printer","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"0273038d-cb11-4f16-9830-1368dcd45a9d","Name":"Amazon Echo Dot","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"e5dcb228-8db8-4f5d-9337-21417896f046","Name":"Razer Gaming Mouse","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"d0f2cedb-2585-4354-b596-2b26ca68b760","Name":"Levi's Jeans","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"d1638cc7-8622-453e-973d-320441808656","Name":"Adidas Running Shoes","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"83dd8132-2eed-45b8-bfef-604f0975b5f0","Name":"KitchenAid Stand Mixer","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"7845c623-9053-4bbc-b763-6a29ff33a43d","Name":"Fitbit Charge 5","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"cb9f30a5-cf43-41c1-9b09-7c187a998504","Name":"Canon EOS Rebel T7","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"74e37db8-5f17-40cd-b972-a2516192119d","Name":"Fossil Smartwatch","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"1afc6bc9-c4a9-468c-a091-bcf71876a16c","Name":"Bose Noise-Canceling Headphones","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"c0f557d9-699f-44cb-85ea-cef38a9248e8","Name":"Nike Running Shoes","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"a07bcdaf-81b6-4a85-a681-e617c2fe82a3","Name":"Calvin Klein Watch","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"8bdc926b-53da-41b3-ad0c-ed6dc00b4c40","Name":"Samsung Galaxy S21","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"cb8bb99f-29ee-40db-977a-fe6e63e49369","Name":"Cuisinart Coffee Maker","TagIds":[],"$type":"ProductTagsReadDto"}]
2024-01-02 06:43:00.177 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_CommerceSystemV2.BL.DTOs.Products.ProductTagsReadDto, E-CommerceSystemV2.BL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-02 06:43:00.201 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetProductTags (E-CommerceSystemV2.API) in 903.1352ms
2024-01-02 06:43:00.202 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetProductTags (E-CommerceSystemV2.API)'
2024-01-02 06:43:00.204 +03:00 [INF] HTTP GET /api/Products/GetProductTags responded 200 in 916.0442 ms
2024-01-02 06:43:00.213 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/GetProductTags - 200 null application/json; charset=utf-8 927.7937ms
2024-01-02 06:43:06.121 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 06:43:06.588 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 06:43:07.061 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 06:43:20.953 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2024-01-02 06:43:20.953 +03:00 [INF] Server desktop-eni7p6d:5132:29ba119e caught stopping signal...
2024-01-02 06:43:21.248 +03:00 [INF] Server desktop-eni7p6d:5132:29ba119e caught stopped signal...
2024-01-02 06:43:21.260 +03:00 [WRN] Server desktop-eni7p6d:5132:29ba119e caught shutdown signal...
2024-01-02 06:43:21.456 +03:00 [WRN] Server desktop-eni7p6d:5132:29ba119e stopped non-gracefully due to Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2024-01-02 06:43:21.592 +03:00 [INF] Server desktop-eni7p6d:5132:29ba119e successfully reported itself as stopped in 40.3141 ms
2024-01-02 06:43:21.592 +03:00 [INF] Server desktop-eni7p6d:5132:29ba119e has been stopped in total 373.1612 ms
2024-01-02 06:46:32.093 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 06:46:33.550 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 06:46:33.679 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 06:46:33.937 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 06:46:33.937 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 06:46:33.951 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 06:46:33.952 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 06:46:33.952 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 06:46:33.989 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 06:46:33.990 +03:00 [INF] Hosting environment: Development
2024-01-02 06:46:33.990 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 06:46:34.486 +03:00 [INF] Server desktop-eni7p6d:15992:ade75685 successfully announced in 497.2884 ms
2024-01-02 06:46:34.491 +03:00 [INF] Server desktop-eni7p6d:15992:ade75685 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 06:46:34.802 +03:00 [INF] Server desktop-eni7p6d:15992:ade75685 all the dispatchers started
2024-01-02 06:46:36.383 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 06:46:37.274 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 06:46:38.070 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 06:46:38.729 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 06:46:39.592 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 06:46:39.991 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 405.2386ms
2024-01-02 06:46:41.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 06:46:41.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 32.1507ms
2024-01-02 06:46:41.912 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 06:46:42.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.2774ms
2024-01-02 06:47:05.608 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 06:47:06.120 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 06:47:06.612 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 06:48:05.708 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 06:48:06.199 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 06:48:06.686 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 06:49:00.983 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 06:49:01.930 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 06:49:02.146 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 06:49:02.483 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 06:49:02.483 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 06:49:02.489 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 06:49:02.489 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 06:49:02.489 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 06:49:02.529 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 06:49:02.529 +03:00 [INF] Hosting environment: Development
2024-01-02 06:49:02.529 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 06:49:03.055 +03:00 [INF] Server desktop-eni7p6d:14448:b28cc094 successfully announced in 525.5907 ms
2024-01-02 06:49:03.062 +03:00 [INF] Server desktop-eni7p6d:14448:b28cc094 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 06:49:03.232 +03:00 [INF] Server desktop-eni7p6d:14448:b28cc094 all the dispatchers started
2024-01-02 06:49:04.924 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 06:49:05.964 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 06:49:06.907 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 06:49:07.381 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 06:49:12.505 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 06:49:12.782 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 284.1957ms
2024-01-02 06:49:13.056 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 06:49:13.089 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 33.6393ms
2024-01-02 06:49:13.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 06:49:13.385 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 215.4743ms
2024-01-02 06:49:18.114 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/TestGlobalErrorHandler - null null
2024-01-02 06:49:18.289 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler (E-CommerceSystemV2.API)'
2024-01-02 06:49:18.318 +03:00 [INF] Route matched with {action = "TestGlobalErrorHandler", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult TestGlobalErrorHandler() on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 06:49:18.647 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler (E-CommerceSystemV2.API) in 320.0034ms
2024-01-02 06:49:18.751 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler (E-CommerceSystemV2.API)'
2024-01-02 06:49:18.795 +03:00 [ERR] An unhandled exception has occurred while executing the request.
E_CommerceSystemV2.API.Exceptions.InternalServerError: This is a test exception to trigger the global error handler for internal server error.
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 22
   at lambda_method194(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 06:49:18.831 +03:00 [ERR] Exception Occurred :This is a test exception to trigger the global error handler for internal server error.
E_CommerceSystemV2.API.Exceptions.InternalServerError: This is a test exception to trigger the global error handler for internal server error.
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 22
   at lambda_method194(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 06:49:18.832 +03:00 [ERR] This is a test exception to trigger the global error handler for internal server error.
2024-01-02 06:49:18.865 +03:00 [ERR] HTTP GET /api/Products/TestGlobalErrorHandler responded 500 in 739.1824 ms
2024-01-02 06:49:18.866 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/TestGlobalErrorHandler - 500 null application/json; charset=utf-8 751.6823ms
2024-01-02 06:49:31.740 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 06:49:32.822 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 06:49:33.044 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 06:49:33.379 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 06:49:33.379 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 06:49:33.387 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 06:49:33.387 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 06:49:33.388 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 06:49:33.433 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 06:49:33.434 +03:00 [INF] Hosting environment: Development
2024-01-02 06:49:33.434 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 06:49:33.698 +03:00 [INF] Server desktop-eni7p6d:8336:8f1583a2 successfully announced in 264.8811 ms
2024-01-02 06:49:33.706 +03:00 [INF] Server desktop-eni7p6d:8336:8f1583a2 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 06:49:34.102 +03:00 [INF] Server desktop-eni7p6d:8336:8f1583a2 all the dispatchers started
2024-01-02 06:49:37.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 06:49:38.155 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 255.6849ms
2024-01-02 06:49:40.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 06:49:40.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 37.7089ms
2024-01-02 06:49:40.402 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 06:49:40.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 261.9062ms
2024-01-02 06:50:05.834 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 06:50:06.691 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 06:50:07.357 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 06:50:07.837 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 06:50:24.884 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/TestGlobalErrorHandler - null null
2024-01-02 06:50:25.056 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler (E-CommerceSystemV2.API)'
2024-01-02 06:50:25.067 +03:00 [INF] Route matched with {action = "TestGlobalErrorHandler", controller = "Products"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult TestGlobalErrorHandler() on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 06:50:25.313 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler (E-CommerceSystemV2.API) in 240.9241ms
2024-01-02 06:50:25.419 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler (E-CommerceSystemV2.API)'
2024-01-02 06:50:25.480 +03:00 [ERR] An unhandled exception has occurred while executing the request.
E_CommerceSystemV2.API.Exceptions.InternalServerError: This is a test exception to trigger the global error handler for internal server error.
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 22
   at lambda_method194(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 06:50:25.501 +03:00 [ERR] Exception Occurred :This is a test exception to trigger the global error handler for internal server error.
E_CommerceSystemV2.API.Exceptions.InternalServerError: This is a test exception to trigger the global error handler for internal server error.
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 22
   at lambda_method194(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 06:50:25.503 +03:00 [ERR] This is a test exception to trigger the global error handler for internal server error.
2024-01-02 06:50:25.532 +03:00 [ERR] HTTP GET /api/Products/TestGlobalErrorHandler responded 500 in 637.1784 ms
2024-01-02 06:50:25.533 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/TestGlobalErrorHandler - 500 null application/json; charset=utf-8 649.1806ms
2024-01-02 06:51:04.992 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 06:51:05.548 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 06:51:06.048 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 06:51:37.245 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2024-01-02 06:51:37.251 +03:00 [INF] CORS policy execution successful.
2024-01-02 06:51:37.252 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2024-01-02 06:51:37.264 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2024-01-02 06:51:37.300 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 06:51:37.827 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 06:51:38.309 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 06:51:38.320 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-02 06:51:38.323 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 1059.1225ms
2024-01-02 06:51:38.324 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2024-01-02 06:51:38.326 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 1080.2543 ms
2024-01-02 06:51:38.328 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 1084.0423ms
2024-01-02 06:52:04.959 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 06:52:05.449 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 06:52:05.918 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:00:05.238 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:00:06.281 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:00:06.605 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:00:07.094 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:00:07.094 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:00:07.113 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:00:07.114 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:00:07.114 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:00:07.205 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:00:07.206 +03:00 [INF] Hosting environment: Development
2024-01-02 07:00:07.206 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:00:07.611 +03:00 [INF] Server desktop-eni7p6d:15140:4ce18ace successfully announced in 406.5097 ms
2024-01-02 07:00:07.621 +03:00 [INF] Server desktop-eni7p6d:15140:4ce18ace is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:00:07.647 +03:00 [INF] 3 servers were removed due to timeout
2024-01-02 07:00:08.186 +03:00 [INF] Server desktop-eni7p6d:15140:4ce18ace all the dispatchers started
2024-01-02 07:00:11.117 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:00:11.422 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 310.6598ms
2024-01-02 07:00:11.438 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:00:11.453 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 14.3429ms
2024-01-02 07:00:11.616 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:00:11.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 219.9272ms
2024-01-02 07:00:12.362 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:00:13.382 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:00:15.640 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:00:17.898 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:00:24.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/1/10 - null null
2024-01-02 07:00:24.132 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:00:24.172 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto]]] GetAll(Int32, Int32) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:00:25.702 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-01-02 07:00:25.867 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[CategoryId], [p].[CategoryType], [p].[Name], [p].[OrderId], [p].[Price], [p].[TagId]
FROM [Products] AS [p]
ORDER BY [p].[Price]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-01-02 07:00:26.011 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto'.
2024-01-02 07:00:26.039 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API) in 1861.8967ms
2024-01-02 07:00:26.040 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:00:26.045 +03:00 [INF] HTTP GET /api/Products/1/10 responded 200 in 2033.3156 ms
2024-01-02 07:00:26.048 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/1/10 - 200 null application/json; charset=utf-8 2046.0463ms
2024-01-02 07:00:45.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/1/5 - null null
2024-01-02 07:00:45.297 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:00:45.297 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto]]] GetAll(Int32, Int32) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:00:45.330 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-01-02 07:00:45.385 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='0', @__p_1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[CategoryId], [p].[CategoryType], [p].[Name], [p].[OrderId], [p].[Price], [p].[TagId]
FROM [Products] AS [p]
ORDER BY [p].[Price]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-01-02 07:00:45.398 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto'.
2024-01-02 07:00:45.398 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API) in 100.7137ms
2024-01-02 07:00:45.398 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:00:45.399 +03:00 [INF] HTTP GET /api/Products/1/5 responded 200 in 103.5811 ms
2024-01-02 07:00:45.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/1/5 - 200 null application/json; charset=utf-8 113.5233ms
2024-01-02 07:01:09.541 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:01:10.429 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:01:11.919 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:01:15.139 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/c0f557d9-699f-44cb-85ea-cef38a9248e8 - null null
2024-01-02 07:01:15.141 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetById (E-CommerceSystemV2.API)'
2024-01-02 07:01:15.147 +03:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_CommerceSystemV2.BL.DTOs.Products.ProductReadDto]] GetById(System.Guid) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:01:15.330 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__get_Item_0='c0f557d9-699f-44cb-85ea-cef38a9248e8' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[CategoryId], [p].[CategoryType], [p].[Name], [p].[OrderId], [p].[Price], [p].[TagId]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__get_Item_0
2024-01-02 07:01:15.339 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_CommerceSystemV2.BL.DTOs.Products.ProductReadDto'.
2024-01-02 07:01:15.339 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetById (E-CommerceSystemV2.API) in 192.3173ms
2024-01-02 07:01:15.339 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetById (E-CommerceSystemV2.API)'
2024-01-02 07:01:15.340 +03:00 [INF] HTTP GET /api/Products/c0f557d9-699f-44cb-85ea-cef38a9248e8 responded 200 in 200.3414 ms
2024-01-02 07:01:15.343 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/c0f557d9-699f-44cb-85ea-cef38a9248e8 - 200 null application/json; charset=utf-8 203.5398ms
2024-01-02 07:01:36.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/1/20 - null null
2024-01-02 07:01:36.215 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:01:36.217 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto]]] GetAll(Int32, Int32) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:01:36.229 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-01-02 07:01:36.243 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='0', @__p_1='20'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[CategoryId], [p].[CategoryType], [p].[Name], [p].[OrderId], [p].[Price], [p].[TagId]
FROM [Products] AS [p]
ORDER BY [p].[Price]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-01-02 07:01:36.256 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto'.
2024-01-02 07:01:36.257 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API) in 37.9305ms
2024-01-02 07:01:36.257 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:01:36.257 +03:00 [INF] HTTP GET /api/Products/1/20 responded 200 in 46.4461 ms
2024-01-02 07:01:36.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/1/20 - 200 null application/json; charset=utf-8 50.4015ms
2024-01-02 07:04:23.826 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:04:24.267 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:04:24.336 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:04:24.425 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:04:24.425 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:04:24.429 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:04:24.429 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:04:24.429 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:04:24.436 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:04:24.436 +03:00 [INF] Hosting environment: Development
2024-01-02 07:04:24.436 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:04:24.515 +03:00 [INF] Server desktop-eni7p6d:15240:a38722f7 successfully announced in 77.0381 ms
2024-01-02 07:04:24.517 +03:00 [INF] Server desktop-eni7p6d:15240:a38722f7 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:04:24.525 +03:00 [INF] Server desktop-eni7p6d:15240:a38722f7 all the dispatchers started
2024-01-02 07:04:25.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:04:25.216 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 152.4875ms
2024-01-02 07:04:25.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:04:25.344 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 7.9772ms
2024-01-02 07:04:25.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:04:25.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.6072ms
2024-01-02 07:04:25.793 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:04:26.490 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:04:27.139 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:04:27.597 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:04:34.153 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/GetProductTags - null null
2024-01-02 07:04:34.185 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetProductTags (E-CommerceSystemV2.API)'
2024-01-02 07:04:34.195 +03:00 [INF] Route matched with {action = "GetProductTags", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_CommerceSystemV2.BL.DTOs.Products.ProductTagsReadDto]] GetProductTags() on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:04:34.410 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[CategoryId], [p].[CategoryType], [p].[Name], [p].[OrderId], [p].[Price], [p].[TagId], [t1].[ProductId], [t1].[TagId], [t1].[TagId0], [t1].[Name]
FROM [Products] AS [p]
LEFT JOIN (
    SELECT [t].[ProductId], [t].[TagId], [t0].[TagId] AS [TagId0], [t0].[Name]
    FROM [TagProducts] AS [t]
    INNER JOIN [Tags] AS [t0] ON [t].[TagId] = [t0].[TagId]
) AS [t1] ON [p].[ProductId] = [t1].[ProductId]
ORDER BY [p].[ProductId], [t1].[ProductId], [t1].[TagId]
2024-01-02 07:04:34.572 +03:00 [INF] Product tags => [{"ProductId":"96a86cbf-1d2c-4925-8b86-0bab35fd5c08","Name":"Sony Smart TV","TagIds":["925ee134-dbfb-4da2-9344-995e988190be"],"$type":"ProductTagsReadDto"},{"ProductId":"f2c1dac1-c987-4d16-815f-1142eb264212","Name":"HP Printer","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"0273038d-cb11-4f16-9830-1368dcd45a9d","Name":"Amazon Echo Dot","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"e5dcb228-8db8-4f5d-9337-21417896f046","Name":"Razer Gaming Mouse","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"d0f2cedb-2585-4354-b596-2b26ca68b760","Name":"Levi's Jeans","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"d1638cc7-8622-453e-973d-320441808656","Name":"Adidas Running Shoes","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"83dd8132-2eed-45b8-bfef-604f0975b5f0","Name":"KitchenAid Stand Mixer","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"7845c623-9053-4bbc-b763-6a29ff33a43d","Name":"Fitbit Charge 5","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"cb9f30a5-cf43-41c1-9b09-7c187a998504","Name":"Canon EOS Rebel T7","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"74e37db8-5f17-40cd-b972-a2516192119d","Name":"Fossil Smartwatch","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"1afc6bc9-c4a9-468c-a091-bcf71876a16c","Name":"Bose Noise-Canceling Headphones","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"c0f557d9-699f-44cb-85ea-cef38a9248e8","Name":"Nike Running Shoes","TagIds":["bdf4dbb3-2547-44d9-8b1b-aad90df928e3"],"$type":"ProductTagsReadDto"},{"ProductId":"a07bcdaf-81b6-4a85-a681-e617c2fe82a3","Name":"Calvin Klein Watch","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"8bdc926b-53da-41b3-ad0c-ed6dc00b4c40","Name":"Samsung Galaxy S21","TagIds":[],"$type":"ProductTagsReadDto"},{"ProductId":"cb8bb99f-29ee-40db-977a-fe6e63e49369","Name":"Cuisinart Coffee Maker","TagIds":[],"$type":"ProductTagsReadDto"}]
2024-01-02 07:04:34.590 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[E_CommerceSystemV2.BL.DTOs.Products.ProductTagsReadDto, E-CommerceSystemV2.BL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-02 07:04:34.614 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetProductTags (E-CommerceSystemV2.API) in 412.6028ms
2024-01-02 07:04:34.615 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetProductTags (E-CommerceSystemV2.API)'
2024-01-02 07:04:34.620 +03:00 [INF] HTTP GET /api/Products/GetProductTags responded 200 in 459.3025 ms
2024-01-02 07:04:34.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/GetProductTags - 200 null application/json; charset=utf-8 472.5816ms
2024-01-02 07:04:55.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/1/10 - null null
2024-01-02 07:04:55.583 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:04:55.599 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto]]] GetAll(Int32, Int32) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:04:55.697 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-01-02 07:04:55.787 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[CategoryId], [p].[CategoryType], [p].[Name], [p].[OrderId], [p].[Price], [p].[TagId]
FROM [Products] AS [p]
ORDER BY [p].[Price]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-01-02 07:04:55.801 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto'.
2024-01-02 07:04:55.807 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API) in 207.9783ms
2024-01-02 07:04:55.807 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:04:55.807 +03:00 [INF] HTTP GET /api/Products/1/10 responded 200 in 226.3140 ms
2024-01-02 07:04:55.812 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/1/10 - 200 null application/json; charset=utf-8 234.1157ms
2024-01-02 07:05:09.756 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:05:11.539 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:05:13.663 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:06:10.061 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:06:12.033 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:06:13.056 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:06:22.116 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:06:23.102 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:06:23.260 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:06:23.599 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:06:23.599 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:06:23.606 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:06:23.606 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:06:23.606 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:06:23.635 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:06:23.635 +03:00 [INF] Hosting environment: Development
2024-01-02 07:06:23.636 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:06:23.890 +03:00 [INF] Server desktop-eni7p6d:7236:f33ab305 successfully announced in 255.4255 ms
2024-01-02 07:06:23.895 +03:00 [INF] Server desktop-eni7p6d:7236:f33ab305 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:06:24.146 +03:00 [INF] Server desktop-eni7p6d:7236:f33ab305 all the dispatchers started
2024-01-02 07:06:27.766 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:06:28.002 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 241.525ms
2024-01-02 07:06:28.182 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:06:28.199 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 17.8779ms
2024-01-02 07:06:28.273 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:06:28.478 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.4419ms
2024-01-02 07:06:47.992 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/1/10 - null null
2024-01-02 07:06:48.118 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:06:48.155 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto]]] GetAll(Int32, Int32) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:06:49.523 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:06:50.566 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-01-02 07:06:50.753 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='0', @__p_1='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[CategoryId], [p].[CategoryType], [p].[Name], [p].[OrderId], [p].[Price], [p].[TagId]
FROM [Products] AS [p]
ORDER BY [p].[Price]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-01-02 07:06:50.862 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto'.
2024-01-02 07:06:50.893 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API) in 2733.6649ms
2024-01-02 07:06:50.895 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:06:50.900 +03:00 [INF] HTTP GET /api/Products/1/10 responded 200 in 2896.9724 ms
2024-01-02 07:06:50.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/1/10 - 200 null application/json; charset=utf-8 2933.762ms
2024-01-02 07:07:09.920 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:07:11.085 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:07:12.700 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:08:09.967 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:08:10.957 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:08:12.294 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:13:03.805 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:13:04.733 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:13:04.914 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:13:05.238 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:13:05.238 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:13:05.245 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:13:05.245 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:13:05.246 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:13:05.270 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:13:05.270 +03:00 [INF] Hosting environment: Development
2024-01-02 07:13:05.271 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:13:05.445 +03:00 [INF] Server desktop-eni7p6d:10800:8b8e3473 successfully announced in 174.9062 ms
2024-01-02 07:13:05.452 +03:00 [INF] Server desktop-eni7p6d:10800:8b8e3473 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:13:05.477 +03:00 [INF] 3 servers were removed due to timeout
2024-01-02 07:13:05.820 +03:00 [INF] Server desktop-eni7p6d:10800:8b8e3473 all the dispatchers started
2024-01-02 07:13:07.791 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:13:08.687 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:13:11.729 +03:00 [WRN] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:13:11.902 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:13:12.173 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 277.7126ms
2024-01-02 07:13:12.294 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:13:12.317 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 22.7028ms
2024-01-02 07:13:12.626 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:13:13.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 491.6287ms
2024-01-02 07:13:13.773 +03:00 [WRN] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:14:04.202 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2024-01-02 07:14:04.202 +03:00 [INF] Server desktop-eni7p6d:10800:8b8e3473 caught stopping signal...
2024-01-02 07:14:04.447 +03:00 [INF] Server desktop-eni7p6d:10800:8b8e3473 caught stopped signal...
2024-01-02 07:14:04.473 +03:00 [WRN] Server desktop-eni7p6d:10800:8b8e3473 caught shutdown signal...
2024-01-02 07:14:04.631 +03:00 [WRN] Server desktop-eni7p6d:10800:8b8e3473 stopped non-gracefully due to ServerWatchdog, Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2024-01-02 07:14:04.740 +03:00 [INF] Server desktop-eni7p6d:10800:8b8e3473 successfully reported itself as stopped in 4.7107 ms
2024-01-02 07:14:04.740 +03:00 [INF] Server desktop-eni7p6d:10800:8b8e3473 has been stopped in total 301.2783 ms
2024-01-02 07:19:46.096 +03:00 [ERR] An unhandled exception has occurred while executing the request.
E_CommerceSystemV2.API.Exceptions.InternalServerError: This is a test exception to trigger the global error handler for internal server error.
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 22
   at lambda_method265(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:19:46.187 +03:00 [ERR] Exception Occurred :This is a test exception to trigger the global error handler for internal server error.
E_CommerceSystemV2.API.Exceptions.InternalServerError: This is a test exception to trigger the global error handler for internal server error.
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.TestGlobalErrorHandler() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 22
   at lambda_method265(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:19:46.189 +03:00 [ERR] This is a test exception to trigger the global error handler for internal server error.
2024-01-02 07:19:46.206 +03:00 [ERR] HTTP GET /api/Products/TestGlobalErrorHandler responded 500 in 422.8955 ms
2024-01-02 07:30:42.269 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:30:43.009 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:30:43.118 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:30:43.527 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:30:43.527 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:30:43.532 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:30:43.532 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:30:43.532 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:30:43.550 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:30:43.550 +03:00 [INF] Hosting environment: Development
2024-01-02 07:30:43.550 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:30:43.702 +03:00 [INF] Server desktop-eni7p6d:20212:46064d64 successfully announced in 152.0953 ms
2024-01-02 07:30:43.710 +03:00 [INF] Server desktop-eni7p6d:20212:46064d64 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:30:43.972 +03:00 [INF] Server desktop-eni7p6d:20212:46064d64 all the dispatchers started
2024-01-02 07:30:45.464 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:30:46.132 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:30:47.037 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:30:47.512 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:30:51.728 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:30:51.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 255.6508ms
2024-01-02 07:30:53.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:30:53.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 14.32ms
2024-01-02 07:30:53.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:30:54.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.5839ms
2024-01-02 07:31:14.711 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:31:15.189 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:31:15.675 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:31:59.363 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 108
2024-01-02 07:31:59.508 +03:00 [INF] CORS policy execution successful.
2024-01-02 07:31:59.510 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:31:59.536 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:31:59.909 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-02 07:31:59.943 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 392.4475ms
2024-01-02 07:31:59.943 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:31:59.946 +03:00 [INF] HTTP POST /api/Products responded 400 in 572.8615 ms
2024-01-02 07:31:59.947 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 400 null application/problem+json; charset=utf-8 583.6065ms
2024-01-02 07:32:14.728 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:32:15.211 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:32:15.698 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:33:14.828 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:33:15.426 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:33:15.938 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:34:14.924 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:34:15.433 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:34:15.945 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:34:31.037 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/api/Products/1/5 - null null
2024-01-02 07:34:31.044 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:34:31.060 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto]]] GetAll(Int32, Int32) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:34:31.134 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-01-02 07:34:31.241 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='0', @__p_1='5'], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[CategoryId], [p].[CategoryType], [p].[Name], [p].[OrderId], [p].[Price], [p].[TagId]
FROM [Products] AS [p]
ORDER BY [p].[Price]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-01-02 07:34:31.338 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_CommerceSystemV2.BL.DTOs.Products.ProductPagintationDto'.
2024-01-02 07:34:31.347 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API) in 286.2153ms
2024-01-02 07:34:31.347 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.GetAll (E-CommerceSystemV2.API)'
2024-01-02 07:34:31.348 +03:00 [INF] HTTP GET /api/Products/1/5 responded 200 in 309.3671 ms
2024-01-02 07:34:31.353 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/api/Products/1/5 - 200 null application/json; charset=utf-8 315.6706ms
2024-01-02 07:34:47.489 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 108
2024-01-02 07:34:47.494 +03:00 [INF] CORS policy execution successful.
2024-01-02 07:34:47.494 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:34:47.494 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:34:48.312 +03:00 [ERR] Failed executing DbCommand (625ms) [Parameters=[@p0='ddff0f6e-1eb8-4871-80ff-08dc0b4c26c2', @p1=NULL (DbType = Guid), @p2='0', @p3='Samsung S22 UlTRA' (Size = 4000), @p4='00000000-0000-0000-0000-000000000000', @p5='299.99' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 07:34:48.956 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff3638f4-1b33-4935-9e20-3646624553ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff3638f4-1b33-4935-9e20-3646624553ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 07:34:49.844 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 2349.8987ms
2024-01-02 07:34:50.088 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:34:50.188 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff3638f4-1b33-4935-9e20-3646624553ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:34:50.222 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff3638f4-1b33-4935-9e20-3646624553ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:34:50.231 +03:00 [ERR] HTTP POST /api/Products responded 500 in 2741.7055 ms
2024-01-02 07:34:50.236 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 2747.4257ms
2024-01-02 07:34:57.703 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 108
2024-01-02 07:34:57.704 +03:00 [INF] CORS policy execution successful.
2024-01-02 07:34:57.704 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:34:57.704 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:34:57.882 +03:00 [ERR] Failed executing DbCommand (154ms) [Parameters=[@p0='77eee68d-8275-48d5-8100-08dc0b4c26c2', @p1=NULL (DbType = Guid), @p2='0', @p3='Samsung S22 UlTRA' (Size = 4000), @p4='00000000-0000-0000-0000-000000000000', @p5='299.99' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 07:34:58.437 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff3638f4-1b33-4935-9e20-3646624553ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff3638f4-1b33-4935-9e20-3646624553ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 07:34:59.156 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 1451.1838ms
2024-01-02 07:34:59.297 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:34:59.387 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff3638f4-1b33-4935-9e20-3646624553ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:34:59.389 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ff3638f4-1b33-4935-9e20-3646624553ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:34:59.391 +03:00 [ERR] HTTP POST /api/Products responded 500 in 1686.8862 ms
2024-01-02 07:34:59.392 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 1689.0145ms
2024-01-02 07:35:01.546 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 108
2024-01-02 07:35:01.547 +03:00 [INF] CORS policy execution successful.
2024-01-02 07:35:01.547 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:35:01.547 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:35:01.737 +03:00 [ERR] Failed executing DbCommand (178ms) [Parameters=[@p0='7ca546b7-c6d7-4fa6-8101-08dc0b4c26c2', @p1=NULL (DbType = Guid), @p2='0', @p3='Samsung S22 UlTRA' (Size = 4000), @p4='00000000-0000-0000-0000-000000000000', @p5='299.99' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 07:35:02.238 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6dfbb1dd-1768-4c3a-a455-a3312cce231d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6dfbb1dd-1768-4c3a-a455-a3312cce231d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 07:35:03.193 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 1645.8439ms
2024-01-02 07:35:03.394 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:35:03.463 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6dfbb1dd-1768-4c3a-a455-a3312cce231d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:35:03.465 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6dfbb1dd-1768-4c3a-a455-a3312cce231d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:35:03.467 +03:00 [ERR] HTTP POST /api/Products responded 500 in 1919.6772 ms
2024-01-02 07:35:03.469 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 1922.4698ms
2024-01-02 07:35:15.072 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:35:15.644 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:35:16.156 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:35:22.692 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 92
2024-01-02 07:35:22.692 +03:00 [INF] CORS policy execution successful.
2024-01-02 07:35:22.692 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:35:22.693 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:35:22.884 +03:00 [ERR] Failed executing DbCommand (181ms) [Parameters=[@p0='361e51ef-b105-46e4-8102-08dc0b4c26c2', @p1=NULL (DbType = Guid), @p2='0', @p3='string' (Size = 4000), @p4='00000000-0000-0000-0000-000000000000', @p5='0' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 07:35:23.408 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6dfbb1dd-1768-4c3a-a455-a3312cce231d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6dfbb1dd-1768-4c3a-a455-a3312cce231d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 07:35:24.191 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 1497.8347ms
2024-01-02 07:35:24.364 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:35:24.445 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6dfbb1dd-1768-4c3a-a455-a3312cce231d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:35:24.447 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6dfbb1dd-1768-4c3a-a455-a3312cce231d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:35:24.448 +03:00 [ERR] HTTP POST /api/Products responded 500 in 1756.1576 ms
2024-01-02 07:35:24.450 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 1758.6943ms
2024-01-02 07:36:00.192 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:36:00.787 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:36:01.661 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:36:02.028 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2024-01-02 07:36:02.028 +03:00 [INF] Server desktop-eni7p6d:20212:46064d64 caught stopping signal...
2024-01-02 07:36:02.284 +03:00 [INF] Server desktop-eni7p6d:20212:46064d64 caught stopped signal...
2024-01-02 07:36:02.316 +03:00 [WRN] Server desktop-eni7p6d:20212:46064d64 caught shutdown signal...
2024-01-02 07:36:02.457 +03:00 [INF] Server desktop-eni7p6d:20212:46064d64 All dispatchers stopped
2024-01-02 07:36:02.520 +03:00 [INF] Server desktop-eni7p6d:20212:46064d64 successfully reported itself as stopped in 5.1607 ms
2024-01-02 07:36:02.520 +03:00 [INF] Server desktop-eni7p6d:20212:46064d64 has been stopped in total 253.077 ms
2024-01-02 07:36:46.802 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:36:47.479 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:36:47.620 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:36:47.856 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:36:47.856 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:36:47.861 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:36:47.862 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:36:47.862 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:36:47.886 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:36:47.887 +03:00 [INF] Hosting environment: Development
2024-01-02 07:36:47.887 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:36:48.246 +03:00 [INF] Server desktop-eni7p6d:14788:6bb3aa03 successfully announced in 284.5847 ms
2024-01-02 07:36:48.368 +03:00 [INF] Server desktop-eni7p6d:14788:6bb3aa03 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:36:48.588 +03:00 [INF] Server desktop-eni7p6d:14788:6bb3aa03 all the dispatchers started
2024-01-02 07:36:50.124 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:36:50.253 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 132.7451ms
2024-01-02 07:36:51.930 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:36:51.941 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 10.9888ms
2024-01-02 07:36:52.037 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:36:52.193 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.2199ms
2024-01-02 07:37:04.856 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:37:05.529 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:37:05.592 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 92
2024-01-02 07:37:05.693 +03:00 [INF] CORS policy execution successful.
2024-01-02 07:37:05.696 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:37:05.721 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:37:06.323 +03:00 [ERR] Failed executing DbCommand (214ms) [Parameters=[@p0='19226722-6461-4ea0-c0d8-08dc0b4c793c', @p1=NULL (DbType = Guid), @p2='0', @p3='string' (Size = 4000), @p4='00000000-0000-0000-0000-000000000000', @p5='0' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 07:37:06.982 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:824578c8-1d6b-46cd-b48c-1b3a9568c54d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:824578c8-1d6b-46cd-b48c-1b3a9568c54d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 07:37:07.955 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 2229.8949ms
2024-01-02 07:37:08.120 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:37:07.955 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:37:08.207 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:824578c8-1d6b-46cd-b48c-1b3a9568c54d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:37:08.215 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:824578c8-1d6b-46cd-b48c-1b3a9568c54d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:37:08.229 +03:00 [ERR] HTTP POST /api/Products responded 500 in 2628.2700 ms
2024-01-02 07:37:08.242 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 2649.5585ms
2024-01-02 07:37:08.933 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:38:03.996 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:38:04.601 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2024-01-02 07:38:05.552 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2024-01-02 07:39:05.471 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:39:06.162 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:39:06.266 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:39:06.494 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:39:06.494 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:39:06.502 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:39:06.502 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:39:06.502 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:39:06.647 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:39:06.648 +03:00 [INF] Hosting environment: Development
2024-01-02 07:39:06.648 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:39:06.804 +03:00 [INF] Server desktop-eni7p6d:20172:0ef2a9d8 successfully announced in 157.0176 ms
2024-01-02 07:39:06.833 +03:00 [INF] Server desktop-eni7p6d:20172:0ef2a9d8 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:39:07.147 +03:00 [INF] Server desktop-eni7p6d:20172:0ef2a9d8 all the dispatchers started
2024-01-02 07:39:08.447 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:39:08.797 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 354.5647ms
2024-01-02 07:39:09.884 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:39:09.895 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 10.9439ms
2024-01-02 07:39:10.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:39:10.126 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:39:10.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.8829ms
2024-01-02 07:39:11.009 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:39:29.076 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 92
2024-01-02 07:39:29.170 +03:00 [INF] CORS policy execution successful.
2024-01-02 07:39:29.172 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:39:29.196 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:39:29.737 +03:00 [ERR] Failed executing DbCommand (228ms) [Parameters=[@p0='fa3fdc86-05bb-4fc2-6972-08dc0b4cceb8', @p1=NULL (DbType = Guid), @p2='0', @p3='string' (Size = 4000), @p4='00000000-0000-0000-0000-000000000000', @p5='0' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 07:39:30.199 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d15d1ed1-2f42-4970-b866-19790ebf038d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d15d1ed1-2f42-4970-b866-19790ebf038d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 07:39:31.088 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 1888.0991ms
2024-01-02 07:39:31.237 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:39:31.365 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d15d1ed1-2f42-4970-b866-19790ebf038d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:39:31.392 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d15d1ed1-2f42-4970-b866-19790ebf038d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 64
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:39:31.417 +03:00 [ERR] HTTP POST /api/Products responded 500 in 2333.4357 ms
2024-01-02 07:39:31.428 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 2352.524ms
2024-01-02 07:40:08.531 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:40:45.884 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2024-01-02 07:40:45.884 +03:00 [INF] Server desktop-eni7p6d:20172:0ef2a9d8 caught stopping signal...
2024-01-02 07:40:46.089 +03:00 [INF] Server desktop-eni7p6d:20172:0ef2a9d8 caught stopped signal...
2024-01-02 07:40:46.115 +03:00 [WRN] Server desktop-eni7p6d:20172:0ef2a9d8 caught shutdown signal...
2024-01-02 07:40:46.316 +03:00 [INF] Server desktop-eni7p6d:20172:0ef2a9d8 All dispatchers stopped
2024-01-02 07:40:46.401 +03:00 [INF] Server desktop-eni7p6d:20172:0ef2a9d8 successfully reported itself as stopped in 6.3245 ms
2024-01-02 07:40:46.401 +03:00 [INF] Server desktop-eni7p6d:20172:0ef2a9d8 has been stopped in total 316.2152 ms
2024-01-02 07:46:52.128 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:46:52.982 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:46:53.158 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:46:53.359 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:46:53.359 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:46:53.365 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:46:53.365 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:46:53.365 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:46:53.384 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:46:53.385 +03:00 [INF] Hosting environment: Development
2024-01-02 07:46:53.385 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:46:53.548 +03:00 [INF] Server desktop-eni7p6d:20152:e0cd681e successfully announced in 163.7121 ms
2024-01-02 07:46:53.553 +03:00 [INF] Server desktop-eni7p6d:20152:e0cd681e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:46:53.574 +03:00 [INF] 1 servers were removed due to timeout
2024-01-02 07:46:53.691 +03:00 [INF] Server desktop-eni7p6d:20152:e0cd681e all the dispatchers started
2024-01-02 07:46:54.787 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:46:55.907 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:46:57.924 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:46:58.157 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 240.5201ms
2024-01-02 07:46:59.196 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:46:59.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 11.0766ms
2024-01-02 07:46:59.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:46:59.507 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 174.6961ms
2024-01-02 07:47:09.228 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:47:19.623 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2024-01-02 07:47:19.623 +03:00 [INF] Server desktop-eni7p6d:20152:e0cd681e caught stopping signal...
2024-01-02 07:47:19.745 +03:00 [INF] Server desktop-eni7p6d:20152:e0cd681e caught stopped signal...
2024-01-02 07:47:19.770 +03:00 [WRN] Server desktop-eni7p6d:20152:e0cd681e caught shutdown signal...
2024-01-02 07:47:20.028 +03:00 [WRN] Server desktop-eni7p6d:20152:e0cd681e stopped non-gracefully due to ServerWatchdog, Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2024-01-02 07:47:20.104 +03:00 [INF] Server desktop-eni7p6d:20152:e0cd681e successfully reported itself as stopped in 5.5333 ms
2024-01-02 07:47:20.104 +03:00 [INF] Server desktop-eni7p6d:20152:e0cd681e has been stopped in total 367.5234 ms
2024-01-02 07:47:31.575 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:47:32.015 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:47:32.118 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:47:32.393 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:47:32.393 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:47:32.398 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:47:32.398 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:47:32.398 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:47:32.418 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:47:32.419 +03:00 [INF] Hosting environment: Development
2024-01-02 07:47:32.419 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:47:32.537 +03:00 [INF] Server desktop-eni7p6d:4648:749df300 successfully announced in 118.7973 ms
2024-01-02 07:47:32.541 +03:00 [INF] Server desktop-eni7p6d:4648:749df300 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:47:32.873 +03:00 [INF] Server desktop-eni7p6d:4648:749df300 all the dispatchers started
2024-01-02 07:47:34.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:47:34.351 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 144.6739ms
2024-01-02 07:47:37.159 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:47:37.185 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 25.4635ms
2024-01-02 07:47:37.283 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:47:37.393 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.5307ms
2024-01-02 07:48:03.629 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 44
2024-01-02 07:48:03.726 +03:00 [INF] CORS policy execution successful.
2024-01-02 07:48:03.729 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:48:03.758 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:48:04.214 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:48:04.604 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.ContextInitialized(IDiagnosticsLogger`1 diagnostics, DbContext context, DbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at E_CommerceSystemV2.API.ECommerceContext.get_CampaignCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 16
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 34
2024-01-02 07:48:05.107 +03:00 [ERR] Failed executing DbCommand (207ms) [Parameters=[@p0='e0bde3d2-a3fa-43af-c793-08dc0b4e01e4', @p1=NULL (DbType = Guid), @p2='0', @p3='Nike Shoes' (Size = 4000), @p4='00000000-0000-0000-0000-000000000000', @p5='99.00' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 07:48:05.631 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ce1aff23-a0f9-441f-a3a0-084e141a4583
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ce1aff23-a0f9-441f-a3a0-084e141a4583
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 07:48:06.462 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 2700.0799ms
2024-01-02 07:48:06.637 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:48:06.721 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ce1aff23-a0f9-441f-a3a0-084e141a4583
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 63
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method54(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:48:06.746 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ce1aff23-a0f9-441f-a3a0-084e141a4583
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 63
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method54(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:48:06.760 +03:00 [ERR] HTTP POST /api/Products responded 500 in 3123.9473 ms
2024-01-02 07:48:06.768 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 3138.2831ms
2024-01-02 07:49:03.689 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:55:46.035 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:55:46.549 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:55:46.663 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:55:46.868 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:55:46.868 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:55:46.875 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:55:46.875 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:55:46.876 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:55:46.895 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:55:46.895 +03:00 [INF] Hosting environment: Development
2024-01-02 07:55:46.895 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:55:47.009 +03:00 [INF] Server desktop-eni7p6d:9656:acca15bc successfully announced in 115.2152 ms
2024-01-02 07:55:47.017 +03:00 [INF] Server desktop-eni7p6d:9656:acca15bc is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:55:47.040 +03:00 [INF] 1 servers were removed due to timeout
2024-01-02 07:55:47.414 +03:00 [INF] Server desktop-eni7p6d:9656:acca15bc all the dispatchers started
2024-01-02 07:55:48.924 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:55:49.131 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 212.531ms
2024-01-02 07:55:49.694 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:55:50.474 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:55:51.860 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:55:51.873 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 12.5762ms
2024-01-02 07:55:52.027 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:55:52.461 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 434.1936ms
2024-01-02 07:56:02.978 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:57:03.016 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 07:57:22.888 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:57:23.421 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:57:23.523 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:57:23.708 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:57:23.708 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:57:23.713 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:57:23.713 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:57:23.713 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:57:23.730 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:57:23.730 +03:00 [INF] Hosting environment: Development
2024-01-02 07:57:23.730 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:57:24.065 +03:00 [INF] Server desktop-eni7p6d:14280:66f9477e successfully announced in 334.5145 ms
2024-01-02 07:57:24.073 +03:00 [INF] Server desktop-eni7p6d:14280:66f9477e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:57:24.302 +03:00 [INF] Server desktop-eni7p6d:14280:66f9477e all the dispatchers started
2024-01-02 07:57:25.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:57:25.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 125.8085ms
2024-01-02 07:57:27.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:57:27.352 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 9.0715ms
2024-01-02 07:57:27.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:57:27.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.2041ms
2024-01-02 07:58:10.356 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2024-01-02 07:58:10.356 +03:00 [INF] Server desktop-eni7p6d:14280:66f9477e caught stopping signal...
2024-01-02 07:58:10.453 +03:00 [INF] Server desktop-eni7p6d:14280:66f9477e caught stopped signal...
2024-01-02 07:58:10.456 +03:00 [WRN] Server desktop-eni7p6d:14280:66f9477e caught shutdown signal...
2024-01-02 07:58:10.645 +03:00 [WRN] Server desktop-eni7p6d:14280:66f9477e stopped non-gracefully due to Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2024-01-02 07:58:10.725 +03:00 [INF] Server desktop-eni7p6d:14280:66f9477e successfully reported itself as stopped in 7.6741 ms
2024-01-02 07:58:10.725 +03:00 [INF] Server desktop-eni7p6d:14280:66f9477e has been stopped in total 273.333 ms
2024-01-02 07:58:25.184 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 07:58:25.890 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 07:58:25.994 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 07:58:26.179 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 07:58:26.179 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 07:58:26.184 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 07:58:26.184 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 07:58:26.184 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 07:58:26.205 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 07:58:26.205 +03:00 [INF] Hosting environment: Development
2024-01-02 07:58:26.205 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 07:58:26.430 +03:00 [INF] Server desktop-eni7p6d:17624:c65827ca successfully announced in 199.2063 ms
2024-01-02 07:58:26.561 +03:00 [INF] Server desktop-eni7p6d:17624:c65827ca is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 07:58:26.776 +03:00 [INF] Server desktop-eni7p6d:17624:c65827ca all the dispatchers started
2024-01-02 07:58:28.188 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 07:58:28.310 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 126.4548ms
2024-01-02 07:58:30.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 07:58:30.500 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 13.6312ms
2024-01-02 07:58:30.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 07:58:30.770 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.4731ms
2024-01-02 07:58:42.359 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 32
2024-01-02 07:58:42.495 +03:00 [INF] CORS policy execution successful.
2024-01-02 07:58:42.498 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:58:42.519 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 07:58:43.757 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 07:58:45.099 +03:00 [ERR] Failed executing DbCommand (340ms) [Parameters=[@p0='ec8d5e4a-324c-4475-74b7-08dc0b4f7f2f', @p1=NULL (DbType = Guid), @p2='0', @p3='mm' (Size = 4000), @p4='00000000-0000-0000-0000-000000000000', @p5='0' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 07:58:45.920 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6f7e28d7-8e64-4799-a1d9-5bd761ff8232
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6f7e28d7-8e64-4799-a1d9-5bd761ff8232
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 07:58:47.408 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 4883.4651ms
2024-01-02 07:58:47.697 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 07:58:47.846 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6f7e28d7-8e64-4799-a1d9-5bd761ff8232
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 65
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method12(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:58:47.893 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6f7e28d7-8e64-4799-a1d9-5bd761ff8232
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 65
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method12(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 07:58:47.917 +03:00 [ERR] HTTP POST /api/Products responded 500 in 5541.3885 ms
2024-01-02 07:58:47.999 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 5640.546ms
2024-01-02 07:59:01.043 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2024-01-02 07:59:01.044 +03:00 [INF] Server desktop-eni7p6d:17624:c65827ca caught stopping signal...
2024-01-02 07:59:01.244 +03:00 [INF] Server desktop-eni7p6d:17624:c65827ca caught stopped signal...
2024-01-02 07:59:01.319 +03:00 [WRN] Server desktop-eni7p6d:17624:c65827ca caught shutdown signal...
2024-01-02 07:59:01.466 +03:00 [INF] Server desktop-eni7p6d:17624:c65827ca All dispatchers stopped
2024-01-02 07:59:01.565 +03:00 [INF] Server desktop-eni7p6d:17624:c65827ca successfully reported itself as stopped in 15.1163 ms
2024-01-02 07:59:01.566 +03:00 [INF] Server desktop-eni7p6d:17624:c65827ca has been stopped in total 333.8495 ms
2024-01-02 08:00:07.011 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 08:00:08.146 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 08:00:08.338 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 08:00:08.649 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 08:00:08.649 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 08:00:08.659 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 08:00:08.659 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 08:00:08.659 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 08:00:08.689 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 08:00:08.689 +03:00 [INF] Hosting environment: Development
2024-01-02 08:00:08.690 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 08:00:08.903 +03:00 [INF] Server desktop-eni7p6d:18052:d19c5f98 successfully announced in 214.6496 ms
2024-01-02 08:00:08.910 +03:00 [INF] Server desktop-eni7p6d:18052:d19c5f98 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 08:00:09.145 +03:00 [INF] Server desktop-eni7p6d:18052:d19c5f98 all the dispatchers started
2024-01-02 08:00:11.144 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 08:00:12.495 +03:00 [INF] Executed DbCommand (298ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:00:13.956 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 08:00:14.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 372.8067ms
2024-01-02 08:00:14.368 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 08:00:14.368 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2024-01-02 08:00:14.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 13.5449ms
2024-01-02 08:00:14.643 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 275.3981ms
2024-01-02 08:00:14.751 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 08:00:14.999 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 249.2642ms
2024-01-02 08:00:29.800 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 36
2024-01-02 08:00:29.911 +03:00 [INF] CORS policy execution successful.
2024-01-02 08:00:29.914 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 08:00:29.946 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 08:00:30.792 +03:00 [ERR] Failed executing DbCommand (368ms) [Parameters=[@p0='e1780b2e-600c-47ce-de4e-08dc0b4fbe36', @p1=NULL (DbType = Guid), @p2='0', @p3='string' (Size = 4000), @p4='00000000-0000-0000-0000-000000000000', @p5='0' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 08:00:31.529 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b54d80f6-c89c-4015-9921-fbcd81eadfcb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b54d80f6-c89c-4015-9921-fbcd81eadfcb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 08:00:32.823 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 2872.2244ms
2024-01-02 08:00:33.081 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 08:00:33.215 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b54d80f6-c89c-4015-9921-fbcd81eadfcb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 65
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 08:00:33.224 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b54d80f6-c89c-4015-9921-fbcd81eadfcb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 65
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 08:00:33.241 +03:00 [ERR] HTTP POST /api/Products responded 500 in 3431.9759 ms
2024-01-02 08:00:33.244 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 3444.682ms
2024-01-02 08:01:09.776 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:02:09.878 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:02:27.640 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2024-01-02 08:02:27.640 +03:00 [INF] Server desktop-eni7p6d:18052:d19c5f98 caught stopping signal...
2024-01-02 08:02:27.916 +03:00 [INF] Server desktop-eni7p6d:18052:d19c5f98 caught stopped signal...
2024-01-02 08:02:27.939 +03:00 [WRN] Server desktop-eni7p6d:18052:d19c5f98 caught shutdown signal...
2024-01-02 08:02:28.201 +03:00 [WRN] Server desktop-eni7p6d:18052:d19c5f98 stopped non-gracefully due to Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2024-01-02 08:02:28.342 +03:00 [INF] Server desktop-eni7p6d:18052:d19c5f98 successfully reported itself as stopped in 44.9192 ms
2024-01-02 08:02:28.343 +03:00 [INF] Server desktop-eni7p6d:18052:d19c5f98 has been stopped in total 446.9777 ms
2024-01-02 08:03:56.164 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 08:03:56.851 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 08:03:56.949 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 08:03:57.161 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 08:03:57.161 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 08:03:57.165 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 08:03:57.165 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 08:03:57.166 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 08:03:57.188 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 08:03:57.188 +03:00 [INF] Hosting environment: Development
2024-01-02 08:03:57.188 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 08:03:57.604 +03:00 [INF] Server desktop-eni7p6d:8176:99b79bd8 successfully announced in 416.3111 ms
2024-01-02 08:03:57.613 +03:00 [INF] Server desktop-eni7p6d:8176:99b79bd8 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 08:03:57.636 +03:00 [INF] 1 servers were removed due to timeout
2024-01-02 08:03:57.876 +03:00 [INF] Server desktop-eni7p6d:8176:99b79bd8 all the dispatchers started
2024-01-02 08:03:59.517 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 08:04:00.054 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.ContextInitialized(IDiagnosticsLogger`1 diagnostics, DbContext context, DbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at E_CommerceSystemV2.API.ECommerceContext.get_CampaignCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 16
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 34
2024-01-02 08:04:00.638 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.QueryExecutionPlanned(IDiagnosticsLogger`1 diagnostics, DbContext context, ExpressionPrinter expressionPrinter, Expression queryExecutorExpression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 34
2024-01-02 08:04:04.577 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 08:04:05.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 531.9984ms
2024-01-02 08:04:05.716 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 08:04:05.733 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2024-01-02 08:04:05.760 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 44.4523ms
2024-01-02 08:04:05.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.1511ms
2024-01-02 08:04:05.897 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 08:04:06.084 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.7872ms
2024-01-02 08:04:13.804 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:04:24.133 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2024-01-02 08:04:24.133 +03:00 [INF] Server desktop-eni7p6d:8176:99b79bd8 caught stopping signal...
2024-01-02 08:04:24.359 +03:00 [INF] Server desktop-eni7p6d:8176:99b79bd8 caught stopped signal...
2024-01-02 08:04:24.392 +03:00 [WRN] Server desktop-eni7p6d:8176:99b79bd8 caught shutdown signal...
2024-01-02 08:04:24.672 +03:00 [WRN] Server desktop-eni7p6d:8176:99b79bd8 stopped non-gracefully due to Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2024-01-02 08:04:24.745 +03:00 [INF] Server desktop-eni7p6d:8176:99b79bd8 successfully reported itself as stopped in 6.455 ms
2024-01-02 08:04:24.745 +03:00 [INF] Server desktop-eni7p6d:8176:99b79bd8 has been stopped in total 399.289 ms
2024-01-02 08:04:47.926 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 08:04:48.470 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 08:04:48.568 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 08:04:48.745 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 08:04:48.745 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 08:04:48.749 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 08:04:48.749 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 08:04:48.749 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 08:04:48.767 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 08:04:48.767 +03:00 [INF] Hosting environment: Development
2024-01-02 08:04:48.767 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 08:04:49.170 +03:00 [INF] Server desktop-eni7p6d:12128:1a2978c1 successfully announced in 403.2791 ms
2024-01-02 08:04:49.176 +03:00 [INF] Server desktop-eni7p6d:12128:1a2978c1 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 08:04:49.402 +03:00 [INF] Server desktop-eni7p6d:12128:1a2978c1 all the dispatchers started
2024-01-02 08:04:50.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 08:04:50.993 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 403.9591ms
2024-01-02 08:04:52.894 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 08:04:52.912 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2024-01-02 08:04:52.993 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 93.9968ms
2024-01-02 08:04:53.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 220.3994ms
2024-01-02 08:04:53.231 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 08:04:53.424 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.6085ms
2024-01-02 08:05:05.997 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 08:05:06.624 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.ContextInitialized(IDiagnosticsLogger`1 diagnostics, DbContext context, DbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at E_CommerceSystemV2.API.ECommerceContext.get_CampaignCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 16
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 34
2024-01-02 08:05:07.062 +03:00 [WRN] Failed to process the job '10285': an exception occurred. Retry attempt 1 of 10 will be performed in 00:00:43.
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.ContextDisposed(IDiagnosticsLogger`1 diagnostics, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeSync(Boolean leaseActive, Boolean contextShouldBeDisposed)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Hangfire.AspNetCore.AspNetCoreJobActivatorScope.DisposeScope()
   at Hangfire.JobActivatorScope.Dispose()
   at Hangfire.Server.CoreBackgroundJobPerformer.Perform(PerformContext context)
   at Hangfire.Server.BackgroundJobPerformer.<>c__DisplayClass10_0.<PerformJobWithFilters>b__0()
   at Hangfire.Server.BackgroundJobPerformer.InvokePerformFilter(IServerFilter filter, PerformingContext preContext, Func`1 continuation)
   at Hangfire.Server.BackgroundJobPerformer.<>c__DisplayClass10_1.<PerformJobWithFilters>b__2()
   at Hangfire.Server.BackgroundJobPerformer.PerformJobWithFilters(PerformContext context, IEnumerable`1 filters)
   at Hangfire.Server.BackgroundJobPerformer.Perform(PerformContext context)
   at Hangfire.Server.Worker.PerformJob(BackgroundProcessContext context, IStorageConnection connection, String jobId, BackgroundJob backgroundJob, IReadOnlyDictionary`2& customData)
2024-01-02 08:06:05.400 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'E_CommerceSystemV2.API.ECommerceContext'.
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.BroadcastConnectionCreating(DbContext context, String connectionString, Guid connectionId, DateTimeOffset startTime, EventDefinition definition, Boolean diagnosticSourceEnabled, Boolean simpleLogEnabled)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.ConnectionCreating(IRelationalConnection connection, DateTimeOffset startTime)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.BroadcastConnectionCreating(DbContext context, String connectionString, Guid connectionId, DateTimeOffset startTime, EventDefinition definition, Boolean diagnosticSourceEnabled, Boolean simpleLogEnabled)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.ConnectionCreating(IRelationalConnection connection, DateTimeOffset startTime)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2024-01-02 08:06:05.557 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.BroadcastConnectionCreating(DbContext context, String connectionString, Guid connectionId, DateTimeOffset startTime, EventDefinition definition, Boolean diagnosticSourceEnabled, Boolean simpleLogEnabled)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.ConnectionCreating(IRelationalConnection connection, DateTimeOffset startTime)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 34
2024-01-02 08:06:05.677 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:06:53.780 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 08:06:54.319 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 08:06:54.431 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 08:06:54.685 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 08:06:54.685 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 08:06:54.690 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 08:06:54.690 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 08:06:54.690 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 08:06:54.710 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 08:06:54.710 +03:00 [INF] Hosting environment: Development
2024-01-02 08:06:54.710 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 08:06:54.977 +03:00 [INF] Server desktop-eni7p6d:19652:b78a4c73 successfully announced in 267.51 ms
2024-01-02 08:06:54.982 +03:00 [INF] Server desktop-eni7p6d:19652:b78a4c73 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 08:06:55.127 +03:00 [INF] Server desktop-eni7p6d:19652:b78a4c73 all the dispatchers started
2024-01-02 08:06:56.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 08:06:56.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 380.4149ms
2024-01-02 08:06:58.787 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 08:06:58.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2024-01-02 08:06:58.801 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 14.2947ms
2024-01-02 08:06:59.067 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 278.41ms
2024-01-02 08:06:59.162 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 08:06:59.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 213.1022ms
2024-01-02 08:07:11.899 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 08:07:12.768 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:07:22.600 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 100
2024-01-02 08:07:22.695 +03:00 [INF] CORS policy execution successful.
2024-01-02 08:07:22.697 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 08:07:22.713 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 08:07:23.534 +03:00 [ERR] Failed executing DbCommand (364ms) [Parameters=[@p0='a5403e2a-2edb-4282-1c76-08dc0b50b43e', @p1=NULL (DbType = Guid), @p2='0', @p3='classic shoes' (Size = 4000), @p4='4de9e5ba-328f-4c42-8eba-3a9ab6661346', @p5='99.99' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 08:07:24.185 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:da258feb-49a0-4202-96cd-09945885aa5b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:da258feb-49a0-4202-96cd-09945885aa5b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 08:07:25.341 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 2621.5184ms
2024-01-02 08:07:25.652 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 08:07:25.792 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:da258feb-49a0-4202-96cd-09945885aa5b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 65
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 08:07:25.811 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:da258feb-49a0-4202-96cd-09945885aa5b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 65
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 08:07:25.826 +03:00 [ERR] HTTP POST /api/Products responded 500 in 3216.8927 ms
2024-01-02 08:07:25.828 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 3228.0891ms
2024-01-02 08:08:10.890 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:09:10.976 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:10:11.286 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:11:11.207 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:11:55.017 +03:00 [INF] 1 servers were removed due to timeout
2024-01-02 08:12:11.371 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:13:11.614 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:14:11.775 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:14:55.761 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 100
2024-01-02 08:14:55.765 +03:00 [INF] CORS policy execution successful.
2024-01-02 08:14:55.765 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 08:14:55.766 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 08:14:56.185 +03:00 [ERR] Failed executing DbCommand (403ms) [Parameters=[@p0='7f46f087-da5e-4bc0-1c77-08dc0b50b43e', @p1=NULL (DbType = Guid), @p2='0', @p3='classic shoes' (Size = 4000), @p4='350fa6d7-844d-44ea-a3ec-a3acc84ea048', @p5='99.99' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 08:14:56.940 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'E_CommerceSystemV2.API.ECommerceContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7848afcd-c8bc-4a03-b29f-f15e71263984
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7848afcd-c8bc-4a03-b29f-f15e71263984
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-02 08:14:58.172 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 2406.3818ms
2024-01-02 08:14:58.462 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 08:14:58.596 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7848afcd-c8bc-4a03-b29f-f15e71263984
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 65
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 08:14:58.598 +03:00 [ERR] Exception Occurred :An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Products_Orders_OrderId". The conflict occurred in database "E-Commerce", table "dbo.Orders", column 'OrderId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7848afcd-c8bc-4a03-b29f-f15e71263984
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.Products.ProductRepo.Add(Product product) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Products\ProductRepo.cs:line 40
   at E_CommerceSystemV2.BL.Managers.Products.ProductsManager.Add(ProductAddDto productAddDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\Products\ProductsManager.cs:line 65
   at E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add(ProductAddDto productDto) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Controllers\Products\ProductsController.cs:line 79
   at lambda_method197(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-01-02 08:14:58.600 +03:00 [ERR] HTTP POST /api/Products responded 500 in 2836.7907 ms
2024-01-02 08:14:58.659 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 500 null application/json; charset=utf-8 2898.787ms
2024-01-02 08:15:18.686 +03:00 [INF] Start installing Hangfire SQL objects...
2024-01-02 08:15:19.557 +03:00 [INF] Hangfire SQL objects installed.
2024-01-02 08:15:19.767 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-01-02 08:15:20.102 +03:00 [INF] Now listening on: https://localhost:7175
2024-01-02 08:15:20.103 +03:00 [INF] Now listening on: http://localhost:5117
2024-01-02 08:15:20.112 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2024-01-02 08:15:20.112 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2024-01-02 08:15:20.112 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-01-02 08:15:20.143 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-02 08:15:20.143 +03:00 [INF] Hosting environment: Development
2024-01-02 08:15:20.143 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2024-01-02 08:15:20.520 +03:00 [INF] Server desktop-eni7p6d:10880:5c5aaf1c successfully announced in 377.8222 ms
2024-01-02 08:15:20.528 +03:00 [INF] Server desktop-eni7p6d:10880:5c5aaf1c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-01-02 08:15:20.720 +03:00 [INF] Server desktop-eni7p6d:10880:5c5aaf1c all the dispatchers started
2024-01-02 08:15:22.321 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-01-02 08:15:23.298 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:15:31.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2024-01-02 08:15:31.856 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 385.8919ms
2024-01-02 08:15:32.000 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2024-01-02 08:15:32.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2024-01-02 08:15:32.521 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 520.9515ms
2024-01-02 08:15:32.739 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 606.848ms
2024-01-02 08:15:32.837 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2024-01-02 08:15:33.136 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 299.1118ms
2024-01-02 08:15:47.405 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/Products - application/json 89
2024-01-02 08:15:47.524 +03:00 [INF] CORS policy execution successful.
2024-01-02 08:15:47.529 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 08:15:47.566 +03:00 [INF] Route matched with {action = "Add", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Add(E_CommerceSystemV2.BL.DTOs.Products.ProductAddDto) on controller E_CommerceSystemV2.API.Controllers.Products.ProductsController (E-CommerceSystemV2.API).
2024-01-02 08:15:48.336 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='1b721c0f-bd32-4965-fecc-08dc0b51e141', @p1=NULL (DbType = Guid), @p2='0', @p3='string' (Size = 4000), @p4='9033cf11-fa84-44e4-9730-1ffaa7f23756', @p5='0' (Precision = 18) (Scale = 2), @p6=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([ProductId], [CategoryId], [CategoryType], [Name], [OrderId], [Price], [TagId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-01-02 08:15:48.428 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-01-02 08:15:48.452 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API) in 878.8509ms
2024-01-02 08:15:48.453 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Products.ProductsController.Add (E-CommerceSystemV2.API)'
2024-01-02 08:15:48.459 +03:00 [INF] HTTP POST /api/Products responded 200 in 1043.3047 ms
2024-01-02 08:15:48.468 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/Products - 200 null text/plain; charset=utf-8 1063.0288ms
2024-01-02 08:16:07.235 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2024-01-02 08:16:30.050 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2024-01-02 08:16:30.051 +03:00 [INF] Server desktop-eni7p6d:10880:5c5aaf1c caught stopping signal...
2024-01-02 08:16:30.329 +03:00 [INF] Server desktop-eni7p6d:10880:5c5aaf1c caught stopped signal...
2024-01-02 08:16:30.330 +03:00 [WRN] Server desktop-eni7p6d:10880:5c5aaf1c caught shutdown signal...
2024-01-02 08:16:30.784 +03:00 [WRN] Server desktop-eni7p6d:10880:5c5aaf1c stopped non-gracefully due to ServerWatchdog, Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2024-01-02 08:16:30.958 +03:00 [INF] Server desktop-eni7p6d:10880:5c5aaf1c successfully reported itself as stopped in 19.0186 ms
2024-01-02 08:16:30.958 +03:00 [INF] Server desktop-eni7p6d:10880:5c5aaf1c has been stopped in total 629.4681 ms
