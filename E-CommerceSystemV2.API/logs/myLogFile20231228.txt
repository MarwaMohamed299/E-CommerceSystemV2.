2023-12-28 00:00:29.635 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 00:00:31.342 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 00:00:31.903 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 00:00:32.520 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 00:00:32.520 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 00:00:32.766 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 00:00:32.766 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 00:00:32.767 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 00:00:32.823 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 00:00:32.824 +03:00 [INF] Hosting environment: Development
2023-12-28 00:00:32.824 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 00:00:33.202 +03:00 [INF] Server desktop-eni7p6d:20380:cd2f35d0 successfully announced in 379.2387 ms
2023-12-28 00:00:33.256 +03:00 [INF] Server desktop-eni7p6d:20380:cd2f35d0 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 00:00:33.372 +03:00 [INF] 1 servers were removed due to timeout
2023-12-28 00:00:33.648 +03:00 [INF] Server desktop-eni7p6d:20380:cd2f35d0 all the dispatchers started
2023-12-28 00:00:37.963 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 00:00:40.592 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 00:00:41.115 +03:00 [INF] Executed DbCommand (183ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:00:41.528 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:00:41.919 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:00:42.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 1882.8843ms
2023-12-28 00:00:42.563 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 00:00:42.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 00:00:42.653 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 89.2995ms
2023-12-28 00:00:42.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.1112ms
2023-12-28 00:00:43.098 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 00:00:43.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 273.7938ms
2023-12-28 00:00:54.264 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 00:00:54.436 +03:00 [INF] CORS policy execution successful.
2023-12-28 00:00:54.441 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:00:54.470 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 00:00:54.612 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:00:54.703 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:00:54.930 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:00:54.944 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 00:00:54.953 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 475.9505ms
2023-12-28 00:00:54.954 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:00:54.958 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 683.1739 ms
2023-12-28 00:00:54.961 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 698.4135ms
2023-12-28 00:00:56.484 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 00:00:56.492 +03:00 [INF] CORS policy execution successful.
2023-12-28 00:00:56.492 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:00:56.492 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 00:00:56.580 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:00:56.736 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:00:56.943 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:00:56.944 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 00:00:56.944 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 451.7695ms
2023-12-28 00:00:56.945 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:00:56.945 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 459.1113 ms
2023-12-28 00:00:56.946 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 462.1139ms
2023-12-28 00:01:04.790 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:01:04.861 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:01:05.027 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:02:05.050 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:02:05.134 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:02:05.294 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:03:04.083 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 00:03:04.698 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 00:03:04.844 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 00:03:05.041 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 00:03:05.041 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 00:03:05.150 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 00:03:05.157 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 00:03:05.158 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 00:03:05.184 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 00:03:05.184 +03:00 [INF] Hosting environment: Development
2023-12-28 00:03:05.184 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 00:03:05.319 +03:00 [INF] Server desktop-eni7p6d:15240:d5a46e32 successfully announced in 135.5368 ms
2023-12-28 00:03:05.326 +03:00 [INF] Server desktop-eni7p6d:15240:d5a46e32 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 00:03:05.559 +03:00 [INF] Server desktop-eni7p6d:15240:d5a46e32 all the dispatchers started
2023-12-28 00:03:07.010 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 00:03:07.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 821.0925ms
2023-12-28 00:03:08.893 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 00:03:09.328 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 00:03:09.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 453.0452ms
2023-12-28 00:03:09.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 00:03:10.302 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 520.0009ms
2023-12-28 00:03:10.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 00:03:10.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 362.6897ms
2023-12-28 00:03:11.595 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:03:11.763 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:03:11.954 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:03:43.047 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 00:03:43.151 +03:00 [INF] CORS policy execution successful.
2023-12-28 00:03:43.155 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:03:43.172 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 00:03:43.271 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:03:43.372 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:03:43.528 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:03:43.542 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 00:03:43.550 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 373.0777ms
2023-12-28 00:03:43.550 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:03:43.556 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 499.4587 ms
2023-12-28 00:03:43.561 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 513.8087ms
2023-12-28 00:04:09.732 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:04:10.302 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:04:11.136 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:04:22.673 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 00:04:22.673 +03:00 [INF] Server desktop-eni7p6d:15240:d5a46e32 caught stopping signal...
2023-12-28 00:04:25.531 +03:00 [INF] Server desktop-eni7p6d:15240:d5a46e32 caught stopped signal...
2023-12-28 00:04:25.614 +03:00 [WRN] Server desktop-eni7p6d:15240:d5a46e32 caught shutdown signal...
2023-12-28 00:04:26.773 +03:00 [WRN] Server desktop-eni7p6d:15240:d5a46e32 stopped non-gracefully due to ServerWatchdog, Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2023-12-28 00:05:15.912 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 00:05:16.875 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 00:05:17.165 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 00:05:17.590 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 00:05:17.590 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 00:05:17.598 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 00:05:17.598 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 00:05:17.598 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 00:05:17.636 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 00:05:17.637 +03:00 [INF] Hosting environment: Development
2023-12-28 00:05:17.637 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 00:05:18.262 +03:00 [INF] Server desktop-eni7p6d:18592:3e01d075 successfully announced in 627.3878 ms
2023-12-28 00:05:18.268 +03:00 [INF] Server desktop-eni7p6d:18592:3e01d075 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 00:05:18.318 +03:00 [INF] 1 servers were removed due to timeout
2023-12-28 00:05:18.569 +03:00 [INF] Server desktop-eni7p6d:18592:3e01d075 all the dispatchers started
2023-12-28 00:05:21.915 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 00:05:22.814 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 903.3951ms
2023-12-28 00:05:22.853 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 00:05:22.856 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 00:05:22.867 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 14.9726ms
2023-12-28 00:05:22.895 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 00:05:23.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 182.7986ms
2023-12-28 00:05:23.265 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 00:05:23.433 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.4971ms
2023-12-28 00:05:24.281 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:05:24.462 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:05:24.802 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:05:34.807 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 00:05:34.922 +03:00 [INF] CORS policy execution successful.
2023-12-28 00:05:34.924 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:05:34.943 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 00:05:35.046 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:05:35.143 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:05:35.318 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:05:35.332 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 00:05:35.342 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 393.0578ms
2023-12-28 00:05:35.343 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:05:35.346 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 530.6710 ms
2023-12-28 00:05:35.350 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 542.5448ms
2023-12-28 00:06:04.175 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:06:04.260 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
2023-12-28 00:06:04.353 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 28
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:06:57.061 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 00:06:57.061 +03:00 [INF] Server desktop-eni7p6d:18592:3e01d075 caught stopping signal...
2023-12-28 00:06:57.269 +03:00 [INF] Server desktop-eni7p6d:18592:3e01d075 caught stopped signal...
2023-12-28 00:06:57.361 +03:00 [WRN] Server desktop-eni7p6d:18592:3e01d075 caught shutdown signal...
2023-12-28 00:06:57.416 +03:00 [INF] Server desktop-eni7p6d:18592:3e01d075 All dispatchers stopped
2023-12-28 00:06:57.486 +03:00 [INF] Server desktop-eni7p6d:18592:3e01d075 successfully reported itself as stopped in 6.4662 ms
2023-12-28 00:06:57.486 +03:00 [INF] Server desktop-eni7p6d:18592:3e01d075 has been stopped in total 218.1889 ms
2023-12-28 00:07:22.612 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 00:07:23.668 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 00:07:23.962 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 00:07:25.813 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 00:07:25.814 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 00:07:25.821 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 00:07:25.822 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 00:07:25.822 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 00:07:27.320 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 00:07:27.320 +03:00 [INF] Hosting environment: Development
2023-12-28 00:07:27.320 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 00:07:27.547 +03:00 [INF] Server desktop-eni7p6d:19420:cb820ca9 successfully announced in 227.4495 ms
2023-12-28 00:07:27.554 +03:00 [INF] Server desktop-eni7p6d:19420:cb820ca9 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 00:07:28.172 +03:00 [INF] Server desktop-eni7p6d:19420:cb820ca9 all the dispatchers started
2023-12-28 00:07:29.790 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 00:07:30.381 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:07:30.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 785.0488ms
2023-12-28 00:07:30.600 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 00:07:30.656 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 00:07:30.662 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 62.3695ms
2023-12-28 00:07:31.222 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 565.4617ms
2023-12-28 00:07:31.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 00:07:31.891 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 445.4131ms
2023-12-28 00:07:32.903 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 00:07:34.271 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:07:34.820 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:07:35.754 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:07:37.743 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 00:07:38.047 +03:00 [INF] CORS policy execution successful.
2023-12-28 00:07:38.051 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:07:38.090 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 00:07:38.093 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:07:38.449 +03:00 [INF] Executed DbCommand (193ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:07:38.595 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:07:38.887 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:07:38.901 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 00:07:38.910 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 814.2735ms
2023-12-28 00:07:38.911 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:07:38.915 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 1162.5700 ms
2023-12-28 00:07:38.918 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 1175.2273ms
2023-12-28 00:08:14.978 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:08:15.014 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:08:15.095 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:08:15.236 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:09:00.265 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:09:00.295 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:09:00.358 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:09:00.496 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:09:27.546 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 00:09:28.619 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 00:09:28.929 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 00:09:29.303 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 00:09:29.303 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 00:09:29.310 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 00:09:29.310 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 00:09:29.311 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 00:09:29.733 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 00:09:29.733 +03:00 [INF] Hosting environment: Development
2023-12-28 00:09:29.733 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 00:09:29.959 +03:00 [INF] Server desktop-eni7p6d:776:bae97e55 successfully announced in 226.374 ms
2023-12-28 00:09:29.964 +03:00 [INF] Server desktop-eni7p6d:776:bae97e55 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 00:09:30.005 +03:00 [INF] 2 servers were removed due to timeout
2023-12-28 00:09:30.375 +03:00 [INF] Server desktop-eni7p6d:776:bae97e55 all the dispatchers started
2023-12-28 00:09:34.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 00:09:35.016 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 677.6214ms
2023-12-28 00:09:35.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 00:09:35.114 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 80.7979ms
2023-12-28 00:09:35.123 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 00:09:35.239 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 163.6901ms
2023-12-28 00:09:35.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 00:09:35.785 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 439.158ms
2023-12-28 00:09:40.302 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 00:09:40.724 +03:00 [INF] CORS policy execution successful.
2023-12-28 00:09:40.727 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:09:40.760 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 00:09:40.763 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:09:42.818 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 00:09:44.012 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:09:44.282 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:09:44.535 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:09:44.550 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 00:09:44.561 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 3795.4087ms
2023-12-28 00:09:44.562 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:09:44.566 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 4252.3311 ms
2023-12-28 00:09:44.627 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 4325.0142ms
2023-12-28 00:10:00.966 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:10:01.114 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:10:01.243 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:10:01.464 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:10:33.751 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 00:10:33.751 +03:00 [INF] Server desktop-eni7p6d:776:bae97e55 caught stopping signal...
2023-12-28 00:10:34.340 +03:00 [INF] Server desktop-eni7p6d:776:bae97e55 caught stopped signal...
2023-12-28 00:10:34.443 +03:00 [WRN] Server desktop-eni7p6d:776:bae97e55 caught shutdown signal...
2023-12-28 00:10:34.595 +03:00 [INF] Server desktop-eni7p6d:776:bae97e55 All dispatchers stopped
2023-12-28 00:10:34.719 +03:00 [INF] Server desktop-eni7p6d:776:bae97e55 successfully reported itself as stopped in 48.5632 ms
2023-12-28 00:10:34.719 +03:00 [INF] Server desktop-eni7p6d:776:bae97e55 has been stopped in total 402.6366 ms
2023-12-28 00:10:41.506 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 00:10:42.021 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 00:10:42.163 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 00:10:42.275 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 00:10:42.275 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 00:10:42.281 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 00:10:42.281 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 00:10:42.282 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 00:10:42.290 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 00:10:42.290 +03:00 [INF] Hosting environment: Development
2023-12-28 00:10:42.290 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 00:10:42.490 +03:00 [INF] Server desktop-eni7p6d:22856:62168072 successfully announced in 195.7579 ms
2023-12-28 00:10:42.497 +03:00 [INF] Server desktop-eni7p6d:22856:62168072 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 00:10:42.559 +03:00 [INF] Server desktop-eni7p6d:22856:62168072 all the dispatchers started
2023-12-28 00:10:43.884 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 00:10:44.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 215.8051ms
2023-12-28 00:10:44.461 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 00:10:44.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 00:10:44.466 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 4.9832ms
2023-12-28 00:10:44.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.2805ms
2023-12-28 00:10:44.672 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 00:10:44.822 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.4761ms
2023-12-28 00:10:49.506 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 00:10:49.539 +03:00 [INF] CORS policy execution successful.
2023-12-28 00:10:49.540 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:10:49.567 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 00:10:49.572 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:10:50.689 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 00:10:51.544 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:10:51.577 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:10:51.585 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:10:51.595 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 00:10:51.601 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 2029.5209ms
2023-12-28 00:10:51.603 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:10:51.607 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 2092.4786 ms
2023-12-28 00:10:51.625 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 2118.7866ms
2023-12-28 00:11:12.822 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:11:12.888 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:11:12.892 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:11:12.892 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:11:36.691 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 00:11:36.691 +03:00 [INF] Server desktop-eni7p6d:22856:62168072 caught stopping signal...
2023-12-28 00:11:36.692 +03:00 [INF] Server desktop-eni7p6d:22856:62168072 caught stopped signal...
2023-12-28 00:11:36.693 +03:00 [WRN] Server desktop-eni7p6d:22856:62168072 caught shutdown signal...
2023-12-28 00:11:36.695 +03:00 [WRN] Server desktop-eni7p6d:22856:62168072 stopped non-gracefully due to ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2023-12-28 00:11:36.718 +03:00 [INF] Server desktop-eni7p6d:22856:62168072 successfully reported itself as stopped in 18.0912 ms
2023-12-28 00:11:36.718 +03:00 [INF] Server desktop-eni7p6d:22856:62168072 has been stopped in total 26.1364 ms
2023-12-28 00:11:40.634 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 00:11:41.079 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 00:11:41.162 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 00:11:41.256 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 00:11:41.256 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 00:11:41.261 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 00:11:41.262 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 00:11:41.262 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 00:11:41.270 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 00:11:41.271 +03:00 [INF] Hosting environment: Development
2023-12-28 00:11:41.271 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 00:11:41.357 +03:00 [INF] Server desktop-eni7p6d:19652:e9fdb465 successfully announced in 84.9824 ms
2023-12-28 00:11:41.359 +03:00 [INF] Server desktop-eni7p6d:19652:e9fdb465 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 00:11:41.376 +03:00 [INF] Server desktop-eni7p6d:19652:e9fdb465 all the dispatchers started
2023-12-28 00:11:41.500 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 00:11:41.675 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 174.6802ms
2023-12-28 00:11:41.791 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 00:11:41.791 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 00:11:41.797 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 5.484ms
2023-12-28 00:11:41.826 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.4977ms
2023-12-28 00:11:41.925 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 00:11:42.045 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.9092ms
2023-12-28 00:12:11.675 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:12:12.245 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 00:12:13.135 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:12:13.173 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:12:13.178 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:12:32.707 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 00:12:32.731 +03:00 [INF] CORS policy execution successful.
2023-12-28 00:12:32.732 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:12:32.745 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 00:12:32.745 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:12:32.826 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:12:32.830 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:12:32.831 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:12:32.839 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 00:12:32.845 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 96.3698ms
2023-12-28 00:12:32.845 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 00:12:32.848 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 136.1582 ms
2023-12-28 00:12:32.851 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 143.4675ms
2023-12-28 00:13:11.715 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:13:11.770 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:13:11.775 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:13:11.775 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:14:11.879 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:14:11.894 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:14:11.897 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:14:11.897 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 00:15:12.162 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 00:15:12.351 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 00:15:12.383 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 00:15:12.385 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 03:02:26.794 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:02:29.519 +03:00 [INF] Executed DbCommand (2,269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:02:31.884 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 03:02:31.885 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 03:03:11.643 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:03:11.656 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:03:11.659 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 03:03:11.659 +03:00 [ERR] Error in sendingEmails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 03:03:23.579 +03:00 [INF] 1 servers were removed due to timeout
2023-12-28 03:03:24.297 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 03:03:24.297 +03:00 [INF] Server desktop-eni7p6d:19652:e9fdb465 caught stopping signal...
2023-12-28 03:03:24.298 +03:00 [INF] Server desktop-eni7p6d:19652:e9fdb465 caught stopped signal...
2023-12-28 03:03:24.298 +03:00 [WRN] Server desktop-eni7p6d:19652:e9fdb465 caught shutdown signal...
2023-12-28 03:03:24.301 +03:00 [WRN] Server desktop-eni7p6d:19652:e9fdb465 stopped non-gracefully due to Worker, RecurringJobScheduler. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2023-12-28 03:32:39.148 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:32:41.848 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:32:42.452 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:32:43.496 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:32:43.496 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:32:43.505 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:32:43.505 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:32:43.505 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:32:43.549 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:32:43.550 +03:00 [INF] Hosting environment: Development
2023-12-28 03:32:43.550 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:32:43.976 +03:00 [INF] Server desktop-eni7p6d:16120:c0bc02ed successfully announced in 427.4908 ms
2023-12-28 03:32:43.986 +03:00 [INF] Server desktop-eni7p6d:16120:c0bc02ed is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:32:44.427 +03:00 [INF] Server desktop-eni7p6d:16120:c0bc02ed all the dispatchers started
2023-12-28 03:32:46.080 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:33:34.891 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:33:35.473 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:33:35.631 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:33:35.824 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:33:35.825 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:33:35.859 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:33:35.859 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:33:35.859 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:33:35.889 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:33:35.889 +03:00 [INF] Hosting environment: Development
2023-12-28 03:33:35.889 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:33:36.044 +03:00 [INF] Server desktop-eni7p6d:7000:887c8a55 successfully announced in 169.5353 ms
2023-12-28 03:33:36.047 +03:00 [INF] Server desktop-eni7p6d:7000:887c8a55 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:33:36.075 +03:00 [INF] Server desktop-eni7p6d:7000:887c8a55 all the dispatchers started
2023-12-28 03:33:36.554 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:33:37.956 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 03:33:38.622 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 666.4106ms
2023-12-28 03:33:38.690 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 03:33:38.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 03:33:38.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 15.3489ms
2023-12-28 03:33:38.846 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 152.0651ms
2023-12-28 03:33:38.945 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 03:33:39.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.694ms
2023-12-28 03:33:39.166 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 03:33:40.500 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:33:40.856 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 03:33:40.883 +03:00 [ERR] Error in sending Emails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 03:33:47.173 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 03:33:47.242 +03:00 [INF] CORS policy execution successful.
2023-12-28 03:33:47.246 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 03:33:47.277 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 03:33:47.280 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:33:47.441 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:33:47.458 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 03:33:47.458 +03:00 [ERR] Error in sending Emails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 03:33:47.466 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 03:33:47.472 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 189.7052ms
2023-12-28 03:33:47.472 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 03:33:47.474 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 294.4991 ms
2023-12-28 03:33:47.476 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 303.5469ms
2023-12-28 03:34:07.073 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:34:07.118 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:34:07.124 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 03:34:07.125 +03:00 [ERR] Error in sending Emails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 03:34:50.868 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:34:52.225 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:34:52.482 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:34:52.829 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:34:52.829 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:34:52.835 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:34:52.835 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:34:52.835 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:34:52.856 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:34:52.856 +03:00 [INF] Hosting environment: Development
2023-12-28 03:34:52.856 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:34:53.577 +03:00 [INF] Server desktop-eni7p6d:2412:abef90d6 successfully announced in 719.8659 ms
2023-12-28 03:34:53.602 +03:00 [INF] Server desktop-eni7p6d:2412:abef90d6 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:34:53.893 +03:00 [INF] Server desktop-eni7p6d:2412:abef90d6 all the dispatchers started
2023-12-28 03:34:58.145 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 03:34:58.484 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 346.572ms
2023-12-28 03:34:59.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 03:34:59.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 03:34:59.914 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 22.8951ms
2023-12-28 03:34:59.982 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.8072ms
2023-12-28 03:35:00.083 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 03:35:00.282 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.8169ms
2023-12-28 03:35:09.625 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:35:29.979 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 03:35:31.235 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:36:23.654 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
2023-12-28 03:36:23.946 +03:00 [ERR] Error in sending Emails toThe Customers
System.ArgumentNullException: Value cannot be null. (Parameter 'apiKey')
   at SendGrid.SendGridClientOptions.set_ApiKey(String value)
   at SendGrid.SendGridClient.buildOptions(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath, Boolean httpErrorAsException)
   at SendGrid.SendGridClient..ctor(String apiKey, String host, Dictionary`2 requestHeaders, String version, String urlPath)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 29
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 03:36:24.115 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:36:30.411 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:40:48.582 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:40:50.577 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:40:51.042 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:40:51.790 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:40:51.790 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:40:51.802 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:40:51.802 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:40:51.802 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:40:51.886 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:40:51.886 +03:00 [INF] Hosting environment: Development
2023-12-28 03:40:51.886 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:40:52.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 03:40:52.322 +03:00 [INF] Server desktop-eni7p6d:3320:1cfc07cc successfully announced in 439.1619 ms
2023-12-28 03:40:52.326 +03:00 [INF] Server desktop-eni7p6d:3320:1cfc07cc is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:40:52.349 +03:00 [INF] Server desktop-eni7p6d:3320:1cfc07cc all the dispatchers started
2023-12-28 03:40:52.356 +03:00 [INF] 2 servers were removed due to timeout
2023-12-28 03:40:52.692 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 443.5254ms
2023-12-28 03:40:52.729 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 03:40:52.738 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 03:40:52.745 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 15.5634ms
2023-12-28 03:40:52.871 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 132.9409ms
2023-12-28 03:40:52.974 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 03:40:53.192 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 217.8849ms
2023-12-28 03:40:53.487 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:40:53.638 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:40:54.690 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 03:40:55.150 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.ContextInitialized(IDiagnosticsLogger`1 diagnostics, DbContext context, DbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at E_CommerceSystemV2.API.ECommerceContext.get_CampaignCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 16
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 32
2023-12-28 03:40:55.672 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:40:56.955 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 03:40:57.374 +03:00 [INF] Email sent successfully to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 03:41:02.017 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 03:41:02.091 +03:00 [INF] CORS policy execution successful.
2023-12-28 03:41:02.094 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 03:41:02.114 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 03:41:02.116 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:41:02.259 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:41:02.675 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 03:41:03.070 +03:00 [INF] Email sent successfully to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 03:41:03.078 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 03:41:03.084 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 966.2102ms
2023-12-28 03:41:03.084 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 03:41:03.087 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 1062.0828 ms
2023-12-28 03:41:03.090 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 1073.2903ms
2023-12-28 03:41:19.389 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:41:20.266 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:41:21.153 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:41:21.507 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:41:21.507 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:41:21.512 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:41:21.513 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:41:21.513 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:41:21.536 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:41:21.537 +03:00 [INF] Hosting environment: Development
2023-12-28 03:41:21.537 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:41:21.893 +03:00 [INF] Server desktop-eni7p6d:12056:a2ce8b3f successfully announced in 357.0401 ms
2023-12-28 03:41:21.900 +03:00 [INF] Server desktop-eni7p6d:12056:a2ce8b3f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:41:22.310 +03:00 [INF] Server desktop-eni7p6d:12056:a2ce8b3f all the dispatchers started
2023-12-28 03:41:23.571 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:41:25.612 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 03:41:30.314 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:41:35.614 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 10006.2671ms
2023-12-28 03:41:35.852 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 03:41:35.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 03:41:36.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 245.7507ms
2023-12-28 03:41:36.585 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 724.0759ms
2023-12-28 03:41:36.911 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 03:41:37.168 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 257.5558ms
2023-12-28 03:41:37.659 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 03:42:04.139 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.ContextInitialized(IDiagnosticsLogger`1 diagnostics, DbContext context, DbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at E_CommerceSystemV2.API.ECommerceContext.get_CampaignCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 16
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 32
2023-12-28 03:42:17.961 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:42:19.068 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:42:19.336 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:42:19.593 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:42:19.593 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:42:19.600 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:42:19.600 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:42:19.600 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:42:19.645 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:42:19.645 +03:00 [INF] Hosting environment: Development
2023-12-28 03:42:19.645 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:42:19.990 +03:00 [INF] Server desktop-eni7p6d:18724:82c9b29e successfully announced in 344.2954 ms
2023-12-28 03:42:19.998 +03:00 [INF] Server desktop-eni7p6d:18724:82c9b29e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:42:20.017 +03:00 [INF] 1 servers were removed due to timeout
2023-12-28 03:42:20.353 +03:00 [INF] Server desktop-eni7p6d:18724:82c9b29e all the dispatchers started
2023-12-28 03:42:21.090 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:45:00.757 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:45:01.713 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:45:01.972 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:45:02.264 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:45:02.264 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:45:02.270 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:45:02.270 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:45:02.270 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:45:02.293 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:45:02.294 +03:00 [INF] Hosting environment: Development
2023-12-28 03:45:02.294 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:45:02.632 +03:00 [INF] Server desktop-eni7p6d:6412:75f80d9c successfully announced in 339.5316 ms
2023-12-28 03:45:02.640 +03:00 [INF] Server desktop-eni7p6d:6412:75f80d9c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:45:02.894 +03:00 [INF] Server desktop-eni7p6d:6412:75f80d9c all the dispatchers started
2023-12-28 03:45:03.461 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:48:24.104 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:48:24.595 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:48:24.740 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:48:24.925 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:48:24.926 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:48:24.930 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:48:24.930 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:48:24.930 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:48:24.952 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:48:24.953 +03:00 [INF] Hosting environment: Development
2023-12-28 03:48:24.953 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:48:25.266 +03:00 [INF] Server desktop-eni7p6d:18036:74d89640 successfully announced in 313.3101 ms
2023-12-28 03:48:25.269 +03:00 [INF] Server desktop-eni7p6d:18036:74d89640 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:48:25.301 +03:00 [INF] 3 servers were removed due to timeout
2023-12-28 03:48:25.485 +03:00 [INF] Server desktop-eni7p6d:18036:74d89640 all the dispatchers started
2023-12-28 03:48:25.946 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:48:25.946 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:48:27.223 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:48:27.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 03:48:28.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 743.8426ms
2023-12-28 03:48:28.858 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 03:48:29.186 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 03:48:29.446 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 260.6178ms
2023-12-28 03:48:29.447 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 03:48:29.718 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 270.9733ms
2023-12-28 03:48:29.921 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 03:48:30.076 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.1795ms
2023-12-28 03:48:31.234 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'E_CommerceSystemV2.API.ECommerceContext'.
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.BroadcastConnectionCreating(DbContext context, String connectionString, Guid connectionId, DateTimeOffset startTime, EventDefinition definition, Boolean diagnosticSourceEnabled, Boolean simpleLogEnabled)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.ConnectionCreating(IRelationalConnection connection, DateTimeOffset startTime)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.BroadcastConnectionCreating(DbContext context, String connectionString, Guid connectionId, DateTimeOffset startTime, EventDefinition definition, Boolean diagnosticSourceEnabled, Boolean simpleLogEnabled)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.ConnectionCreating(IRelationalConnection connection, DateTimeOffset startTime)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-12-28 03:48:31.234 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'E_CommerceSystemV2.API.ECommerceContext'.
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.BroadcastConnectionCreating(DbContext context, String connectionString, Guid connectionId, DateTimeOffset startTime, EventDefinition definition, Boolean diagnosticSourceEnabled, Boolean simpleLogEnabled)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.ConnectionCreating(IRelationalConnection connection, DateTimeOffset startTime)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.BroadcastConnectionCreating(DbContext context, String connectionString, Guid connectionId, DateTimeOffset startTime, EventDefinition definition, Boolean diagnosticSourceEnabled, Boolean simpleLogEnabled)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.ConnectionCreating(IRelationalConnection connection, DateTimeOffset startTime)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-12-28 03:48:31.607 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.BroadcastConnectionCreating(DbContext context, String connectionString, Guid connectionId, DateTimeOffset startTime, EventDefinition definition, Boolean diagnosticSourceEnabled, Boolean simpleLogEnabled)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.ConnectionCreating(IRelationalConnection connection, DateTimeOffset startTime)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 32
2023-12-28 03:48:31.664 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.BroadcastConnectionCreating(DbContext context, String connectionString, Guid connectionId, DateTimeOffset startTime, EventDefinition definition, Boolean diagnosticSourceEnabled, Boolean simpleLogEnabled)
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.RelationalConnectionDiagnosticsLogger.ConnectionCreating(IRelationalConnection connection, DateTimeOffset startTime)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.get_DbConnection()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 32
2023-12-28 03:48:31.781 +03:00 [INF] Executed DbCommand (359ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:48:32.020 +03:00 [WRN] Failed to process the job '10024': an exception occurred. Retry attempt 1 of 10 will be performed in 00:00:19.
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.ContextDisposed(IDiagnosticsLogger`1 diagnostics, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeSync(Boolean leaseActive, Boolean contextShouldBeDisposed)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|26_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Hangfire.AspNetCore.AspNetCoreJobActivatorScope.DisposeScope()
   at Hangfire.JobActivatorScope.Dispose()
   at Hangfire.Server.CoreBackgroundJobPerformer.Perform(PerformContext context)
   at Hangfire.Server.BackgroundJobPerformer.<>c__DisplayClass10_0.<PerformJobWithFilters>b__0()
   at Hangfire.Server.BackgroundJobPerformer.InvokePerformFilter(IServerFilter filter, PerformingContext preContext, Func`1 continuation)
   at Hangfire.Server.BackgroundJobPerformer.<>c__DisplayClass10_1.<PerformJobWithFilters>b__2()
   at Hangfire.Server.BackgroundJobPerformer.PerformJobWithFilters(PerformContext context, IEnumerable`1 filters)
   at Hangfire.Server.BackgroundJobPerformer.Perform(PerformContext context)
   at Hangfire.Server.Worker.PerformJob(BackgroundProcessContext context, IStorageConnection connection, String jobId, BackgroundJob backgroundJob, IReadOnlyDictionary`2& customData)
2023-12-28 03:48:33.868 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 03:48:34.283 +03:00 [INF] Email sent successfully to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 03:48:55.843 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:52:06.054 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:52:06.665 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:52:06.934 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:52:07.242 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:52:07.242 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:52:07.248 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:52:07.248 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:52:07.248 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:52:07.274 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:52:07.275 +03:00 [INF] Hosting environment: Development
2023-12-28 03:52:07.275 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:52:07.471 +03:00 [INF] Server desktop-eni7p6d:10352:cd3912b0 successfully announced in 196.3369 ms
2023-12-28 03:52:07.477 +03:00 [INF] Server desktop-eni7p6d:10352:cd3912b0 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:52:07.661 +03:00 [INF] Server desktop-eni7p6d:10352:cd3912b0 all the dispatchers started
2023-12-28 03:52:08.077 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:55:59.022 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:56:01.159 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:56:01.643 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:56:02.469 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:56:02.469 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:56:02.475 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:56:02.475 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:56:02.475 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:56:02.514 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:56:02.515 +03:00 [INF] Hosting environment: Development
2023-12-28 03:56:02.516 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:56:02.762 +03:00 [INF] Server desktop-eni7p6d:14300:78162883 successfully announced in 248.2784 ms
2023-12-28 03:56:02.772 +03:00 [INF] Server desktop-eni7p6d:14300:78162883 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:56:02.811 +03:00 [INF] 2 servers were removed due to timeout
2023-12-28 03:56:03.039 +03:00 [INF] Server desktop-eni7p6d:14300:78162883 all the dispatchers started
2023-12-28 03:56:03.597 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:56:03.597 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:56:03.597 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:56:03.701 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:57:20.321 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 03:57:23.043 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 03:57:23.472 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 03:57:24.799 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 03:57:24.799 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 03:57:24.808 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 03:57:24.809 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 03:57:24.809 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 03:57:24.941 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 03:57:24.942 +03:00 [INF] Hosting environment: Development
2023-12-28 03:57:24.942 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 03:57:25.580 +03:00 [INF] Server desktop-eni7p6d:12664:a7357c5e successfully announced in 638.8506 ms
2023-12-28 03:57:25.593 +03:00 [INF] Server desktop-eni7p6d:12664:a7357c5e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 03:57:25.700 +03:00 [INF] 1 servers were removed due to timeout
2023-12-28 03:57:27.703 +03:00 [INF] Server desktop-eni7p6d:12664:a7357c5e all the dispatchers started
2023-12-28 03:57:29.338 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 03:57:29.724 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:57:29.930 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:57:30.555 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 1228.5087ms
2023-12-28 03:57:30.680 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 03:57:30.723 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 43.4422ms
2023-12-28 03:57:30.724 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 03:57:30.952 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 227.26ms
2023-12-28 03:57:31.071 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 03:57:31.395 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 324.3372ms
2023-12-28 03:57:32.407 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 03:57:33.269 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.ContextInitialized(IDiagnosticsLogger`1 diagnostics, DbContext context, DbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at E_CommerceSystemV2.API.ECommerceContext.get_CampaignCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 16
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 32
2023-12-28 03:57:34.329 +03:00 [INF] Executed DbCommand (322ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:57:36.385 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: No such host is known. (api.sendgrid.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 03:57:36.861 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: No such host is known. (api.sendgrid.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 03:57:36.879 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 03:57:37.123 +03:00 [INF] CORS policy execution successful.
2023-12-28 03:57:37.127 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 03:57:37.160 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 03:57:37.164 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:57:37.307 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:57:38.945 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: No such host is known. (api.sendgrid.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 03:57:39.272 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: No such host is known. (api.sendgrid.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 03:57:39.287 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 03:57:39.294 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 2128.7883ms
2023-12-28 03:57:39.295 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 03:57:39.300 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 2407.6645 ms
2023-12-28 03:57:39.302 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 2424.4774ms
2023-12-28 03:58:15.068 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:58:15.093 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:58:16.270 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: No such host is known. (api.sendgrid.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 03:58:16.625 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: No such host is known. (api.sendgrid.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 03:59:00.191 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 03:59:00.208 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 03:59:01.121 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: No such host is known. (api.sendgrid.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 03:59:01.332 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: No such host is known. (api.sendgrid.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:00:00.962 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:00:00.977 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:00:02.771 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: No such host is known. (api.sendgrid.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 04:00:03.041 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: No such host is known. (api.sendgrid.com:443)
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:01:01.539 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:01:01.583 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:01:02.734 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:03.520 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:01:03.520 +03:00 [INF] Email sent successfully to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:03.598 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:01:03.600 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:01:03.730 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:01:03.827 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:01:03.894 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:01:04.149 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:01:04.175 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:01:04.227 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:04.376 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:04.530 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:04.659 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:04.698 +03:00 [INF] Email sent successfully to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:04.826 +03:00 [INF] Email sent successfully to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:05.135 +03:00 [INF] Email sent successfully to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:05.240 +03:00 [INF] Email sent successfully to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:12.273 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 04:01:12.273 +03:00 [INF] Server desktop-eni7p6d:12664:a7357c5e caught stopping signal...
2023-12-28 04:01:12.672 +03:00 [INF] Server desktop-eni7p6d:12664:a7357c5e caught stopped signal...
2023-12-28 04:01:12.721 +03:00 [WRN] Server desktop-eni7p6d:12664:a7357c5e caught shutdown signal...
2023-12-28 04:01:13.218 +03:00 [WRN] Server desktop-eni7p6d:12664:a7357c5e stopped non-gracefully due to ServerWatchdog, Worker, DelayedJobScheduler. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2023-12-28 04:01:13.968 +03:00 [INF] Server desktop-eni7p6d:12664:a7357c5e successfully reported itself as stopped in 539.6157 ms
2023-12-28 04:01:13.968 +03:00 [INF] Server desktop-eni7p6d:12664:a7357c5e has been stopped in total 1327.2322 ms
2023-12-28 04:01:20.294 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 04:01:20.995 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 04:01:21.195 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 04:01:21.397 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 04:01:21.398 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 04:01:21.409 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 04:01:21.409 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 04:01:21.409 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 04:01:21.423 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 04:01:21.423 +03:00 [INF] Hosting environment: Development
2023-12-28 04:01:21.423 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 04:01:21.558 +03:00 [INF] Server desktop-eni7p6d:8072:c81c6f72 successfully announced in 132.4963 ms
2023-12-28 04:01:21.561 +03:00 [INF] Server desktop-eni7p6d:8072:c81c6f72 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 04:01:21.567 +03:00 [INF] 1 servers were removed due to timeout
2023-12-28 04:01:21.589 +03:00 [INF] Server desktop-eni7p6d:8072:c81c6f72 all the dispatchers started
2023-12-28 04:01:22.179 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 04:01:22.444 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 264.712ms
2023-12-28 04:01:22.544 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 04:01:22.552 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 04:01:22.572 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 28.4662ms
2023-12-28 04:01:22.657 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.2527ms
2023-12-28 04:01:22.751 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 04:01:22.965 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 214.0468ms
2023-12-28 04:01:27.894 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 04:01:27.945 +03:00 [INF] CORS policy execution successful.
2023-12-28 04:01:27.947 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:01:27.976 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 04:01:27.978 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:01:29.365 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 04:01:30.729 +03:00 [INF] Executed DbCommand (291ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:01:31.336 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:31.808 +03:00 [INF] Email sent successfully to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:01:31.815 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 04:01:31.825 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 3843.9861ms
2023-12-28 04:01:31.826 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:01:31.828 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 3923.5154 ms
2023-12-28 04:01:31.855 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 3961.8861ms
2023-12-28 04:02:10.378 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:02:10.580 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:02:11.163 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:02:11.588 +03:00 [INF] Email sent successfully to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:02:35.415 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/dashboard - null null
2023-12-28 04:02:36.953 +03:00 [INF] HTTP GET /dashboard responded 200 in 1521.0607 ms
2023-12-28 04:02:36.953 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/dashboard - 200 null text/html 1537.8594ms
2023-12-28 04:02:37.028 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/dashboard/css18601086392388 - null null
2023-12-28 04:02:37.029 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/dashboard/css-dark18601213472233 - null null
2023-12-28 04:02:37.030 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/dashboard/js1860461007873 - null null
2023-12-28 04:02:37.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 04:02:37.039 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 7.0728ms
2023-12-28 04:02:37.053 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 04:02:37.060 +03:00 [INF] HTTP GET /dashboard/css-dark18601213472233 responded 200 in 30.9413 ms
2023-12-28 04:02:37.060 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/dashboard/css-dark18601213472233 - 200 null text/css 31.3011ms
2023-12-28 04:02:37.073 +03:00 [INF] HTTP GET /dashboard/css18601086392388 responded 200 in 44.6159 ms
2023-12-28 04:02:37.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/dashboard/css18601086392388 - 200 null text/css 45.1851ms
2023-12-28 04:02:37.097 +03:00 [INF] HTTP GET /dashboard/js1860461007873 responded 200 in 67.1505 ms
2023-12-28 04:02:37.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/dashboard/js1860461007873 - 200 null application/javascript 67.5406ms
2023-12-28 04:02:37.131 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.5796ms
2023-12-28 04:02:39.343 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 485
2023-12-28 04:02:39.900 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 556.5199 ms
2023-12-28 04:02:39.900 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 556.8675ms
2023-12-28 04:02:40.241 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/dashboard/recurring - null null
2023-12-28 04:02:40.943 +03:00 [INF] HTTP GET /dashboard/recurring responded 200 in 688.9697 ms
2023-12-28 04:02:40.943 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/dashboard/recurring - 200 null text/html 701.9702ms
2023-12-28 04:02:41.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 04:02:41.004 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 0.8376ms
2023-12-28 04:02:41.005 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 04:02:41.011 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.7999ms
2023-12-28 04:02:43.118 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:02:43.143 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 25.1697 ms
2023-12-28 04:02:43.143 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 25.6946ms
2023-12-28 04:02:45.159 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:02:45.176 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 17.0205 ms
2023-12-28 04:02:45.176 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 17.5566ms
2023-12-28 04:02:48.171 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:02:48.912 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 740.5871 ms
2023-12-28 04:02:48.912 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 740.8601ms
2023-12-28 04:02:51.170 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:02:51.208 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 37.4219 ms
2023-12-28 04:02:51.208 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 37.7246ms
2023-12-28 04:02:54.168 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:02:54.182 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 13.2880 ms
2023-12-28 04:02:54.182 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 13.6392ms
2023-12-28 04:02:56.187 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:02:56.214 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 26.8251 ms
2023-12-28 04:02:56.214 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 27.0834ms
2023-12-28 04:02:58.222 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:02:58.397 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 175.2808 ms
2023-12-28 04:02:58.398 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 175.6994ms
2023-12-28 04:03:01.177 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:01.195 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 18.2878 ms
2023-12-28 04:03:01.195 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 18.5746ms
2023-12-28 04:03:04.173 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:04.181 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 7.8375 ms
2023-12-28 04:03:04.181 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 8.0753ms
2023-12-28 04:03:07.169 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:07.987 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 817.4980 ms
2023-12-28 04:03:07.987 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 817.811ms
2023-12-28 04:03:10.096 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:03:10.136 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:03:10.167 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:10.181 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 13.9051 ms
2023-12-28 04:03:10.181 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 14.2564ms
2023-12-28 04:03:11.072 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:03:13.335 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:13.551 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 214.9098 ms
2023-12-28 04:03:13.551 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 215.2567ms
2023-12-28 04:03:16.170 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:16.191 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 20.5788 ms
2023-12-28 04:03:16.191 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 20.841ms
2023-12-28 04:03:19.166 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:19.174 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 8.3953 ms
2023-12-28 04:03:19.174 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 8.7024ms
2023-12-28 04:03:22.420 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:22.439 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 17.7627 ms
2023-12-28 04:03:22.439 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 18.9262ms
2023-12-28 04:03:24.493 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:24.545 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 51.6137 ms
2023-12-28 04:03:24.545 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 52.4379ms
2023-12-28 04:03:26.558 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:27.575 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 1016.9792 ms
2023-12-28 04:03:27.575 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 1017.2364ms
2023-12-28 04:03:29.598 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:30.583 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 985.3987 ms
2023-12-28 04:03:30.583 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 985.6538ms
2023-12-28 04:03:32.618 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:32.629 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 10.3776 ms
2023-12-28 04:03:32.629 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 10.6385ms
2023-12-28 04:03:34.668 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:34.676 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 7.7936 ms
2023-12-28 04:03:34.676 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 8.0673ms
2023-12-28 04:03:37.178 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:37.187 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9.1260 ms
2023-12-28 04:03:37.187 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 9.3727ms
2023-12-28 04:03:40.046 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:40.070 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 24.5314 ms
2023-12-28 04:03:40.071 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 24.9611ms
2023-12-28 04:03:42.178 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:42.188 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9.9054 ms
2023-12-28 04:03:42.188 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 10.2328ms
2023-12-28 04:03:45.182 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:45.204 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 22.0397 ms
2023-12-28 04:03:45.204 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 22.3162ms
2023-12-28 04:03:48.410 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:48.431 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 20.7798 ms
2023-12-28 04:03:48.431 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 21.0324ms
2023-12-28 04:03:51.168 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:51.178 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 10.1077 ms
2023-12-28 04:03:51.178 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 10.312ms
2023-12-28 04:03:54.200 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:54.215 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 15.5653 ms
2023-12-28 04:03:54.216 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 15.8174ms
2023-12-28 04:03:57.287 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:03:57.297 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9.9473 ms
2023-12-28 04:03:57.297 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 10.1608ms
2023-12-28 04:04:00.170 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:00.822 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 651.8599 ms
2023-12-28 04:04:00.822 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 652.0539ms
2023-12-28 04:04:03.169 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:03.207 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 37.6532 ms
2023-12-28 04:04:03.207 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 37.8832ms
2023-12-28 04:04:06.177 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:06.183 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 6.6740 ms
2023-12-28 04:04:06.183 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 6.9047ms
2023-12-28 04:04:09.167 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:09.761 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 594.5901 ms
2023-12-28 04:04:09.761 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 594.7941ms
2023-12-28 04:04:12.341 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:21.350 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9009.5253 ms
2023-12-28 04:04:21.350 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 9009.7154ms
2023-12-28 04:04:23.928 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:04:23.950 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:04:24.211 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:24.284 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 73.2572 ms
2023-12-28 04:04:24.284 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 73.4693ms
2023-12-28 04:04:27.324 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:27.349 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 25.3690 ms
2023-12-28 04:04:27.349 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 25.6261ms
2023-12-28 04:04:30.235 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:30.246 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9.9157 ms
2023-12-28 04:04:30.246 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 10.1512ms
2023-12-28 04:04:33.172 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:33.190 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 18.0958 ms
2023-12-28 04:04:33.190 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 18.2977ms
2023-12-28 04:04:36.179 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:36.185 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 6.5016 ms
2023-12-28 04:04:36.185 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 6.7162ms
2023-12-28 04:04:39.239 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:39.261 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 21.7834 ms
2023-12-28 04:04:39.261 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 22.0079ms
2023-12-28 04:04:42.181 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:42.195 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 14.0951 ms
2023-12-28 04:04:42.196 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 14.312ms
2023-12-28 04:04:45.174 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:45.182 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 8.4233 ms
2023-12-28 04:04:45.183 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 8.6194ms
2023-12-28 04:04:45.625 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 04:04:45.649 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:04:48.413 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:48.445 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 31.5253 ms
2023-12-28 04:04:48.445 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 32.1884ms
2023-12-28 04:04:51.085 +03:00 [ERR] Error sending email to marwaghonem29@gmail.com with subject: Welcome to E-Commerce!
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 04:04:51.086 +03:00 [ERR] Error in sending Emails toThe Customers
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:04:51.178 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:51.189 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 11.0900 ms
2023-12-28 04:04:51.190 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 11.319ms
2023-12-28 04:04:54.176 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:54.185 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9.2260 ms
2023-12-28 04:04:54.185 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 9.4433ms
2023-12-28 04:04:57.631 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:04:57.719 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 86.8645 ms
2023-12-28 04:04:57.719 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 87.2341ms
2023-12-28 04:05:00.167 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:00.179 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 11.3079 ms
2023-12-28 04:05:00.179 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 11.5618ms
2023-12-28 04:05:03.177 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:03.188 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 10.4713 ms
2023-12-28 04:05:03.188 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 10.7349ms
2023-12-28 04:05:06.169 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:07.771 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 1601.7851 ms
2023-12-28 04:05:07.771 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 1602.0496ms
2023-12-28 04:05:10.171 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:10.227 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 55.2384 ms
2023-12-28 04:05:10.227 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 55.4643ms
2023-12-28 04:05:10.731 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:05:10.766 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:05:13.244 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:13.267 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 22.6226 ms
2023-12-28 04:05:13.267 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 22.802ms
2023-12-28 04:05:16.196 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:17.019 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 822.6322 ms
2023-12-28 04:05:17.019 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 822.8345ms
2023-12-28 04:05:20.170 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:29.944 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9774.3861 ms
2023-12-28 04:05:29.944 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 9774.6315ms
2023-12-28 04:05:32.210 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:32.346 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 136.2430 ms
2023-12-28 04:05:32.346 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 136.5165ms
2023-12-28 04:05:32.708 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 04:05:32.709 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:05:35.176 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:35.822 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 646.6710 ms
2023-12-28 04:05:35.822 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 646.8769ms
2023-12-28 04:05:38.352 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:38.994 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 642.1590 ms
2023-12-28 04:05:38.994 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 642.3563ms
2023-12-28 04:05:41.182 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:41.193 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 10.9963 ms
2023-12-28 04:05:41.193 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 11.1991ms
2023-12-28 04:05:44.235 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:44.255 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 20.2656 ms
2023-12-28 04:05:44.256 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 20.4372ms
2023-12-28 04:05:47.176 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:47.197 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 21.0994 ms
2023-12-28 04:05:47.197 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 21.2782ms
2023-12-28 04:05:50.165 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:50.177 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 11.9674 ms
2023-12-28 04:05:50.177 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 12.1369ms
2023-12-28 04:05:52.189 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:52.212 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 23.1691 ms
2023-12-28 04:05:52.212 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 23.3597ms
2023-12-28 04:05:54.227 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:54.270 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 42.6359 ms
2023-12-28 04:05:54.270 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 42.8266ms
2023-12-28 04:05:56.299 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:56.311 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 12.2752 ms
2023-12-28 04:05:56.311 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 12.4857ms
2023-12-28 04:05:58.364 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:05:58.376 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 12.0135 ms
2023-12-28 04:05:58.376 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 12.1952ms
2023-12-28 04:06:01.177 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:01.185 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 7.8436 ms
2023-12-28 04:06:01.185 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 8.0245ms
2023-12-28 04:06:01.912 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:06:01.926 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:06:04.198 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:04.227 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 28.1517 ms
2023-12-28 04:06:04.227 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 28.3746ms
2023-12-28 04:06:07.175 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:07.184 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9.3750 ms
2023-12-28 04:06:07.185 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 9.5829ms
2023-12-28 04:06:10.176 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:10.191 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 15.2517 ms
2023-12-28 04:06:10.191 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 15.4711ms
2023-12-28 04:06:13.170 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:13.178 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 7.2162 ms
2023-12-28 04:06:13.178 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 7.3788ms
2023-12-28 04:06:16.169 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:16.179 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9.8048 ms
2023-12-28 04:06:16.179 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 9.9788ms
2023-12-28 04:06:19.165 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:19.173 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 7.8643 ms
2023-12-28 04:06:19.173 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 8.0559ms
2023-12-28 04:06:21.518 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 04:06:21.520 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:06:22.288 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:22.316 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 27.5213 ms
2023-12-28 04:06:22.316 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 27.6865ms
2023-12-28 04:06:25.172 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:25.200 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 27.7838 ms
2023-12-28 04:06:25.200 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 27.9627ms
2023-12-28 04:06:28.169 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:28.179 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9.7524 ms
2023-12-28 04:06:28.179 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 9.9108ms
2023-12-28 04:06:31.170 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:31.182 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 12.2481 ms
2023-12-28 04:06:31.182 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 12.4255ms
2023-12-28 04:06:34.176 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:06:34.192 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 16.4170 ms
2023-12-28 04:06:34.192 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 16.6145ms
2023-12-28 04:06:35.188 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 04:06:35.188 +03:00 [INF] Server desktop-eni7p6d:8072:c81c6f72 caught stopping signal...
2023-12-28 04:06:35.188 +03:00 [INF] Server desktop-eni7p6d:8072:c81c6f72 caught stopped signal...
2023-12-28 04:06:35.188 +03:00 [WRN] Server desktop-eni7p6d:8072:c81c6f72 caught shutdown signal...
2023-12-28 04:06:35.189 +03:00 [WRN] Server desktop-eni7p6d:8072:c81c6f72 stopped non-gracefully due to ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2023-12-28 04:06:35.891 +03:00 [INF] Server desktop-eni7p6d:8072:c81c6f72 successfully reported itself as stopped in 699.8396 ms
2023-12-28 04:06:35.891 +03:00 [INF] Server desktop-eni7p6d:8072:c81c6f72 has been stopped in total 702.8318 ms
2023-12-28 04:07:19.446 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 04:07:22.128 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 04:07:22.459 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 04:07:22.898 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 04:07:22.898 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 04:07:22.907 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 04:07:22.907 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 04:07:22.907 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 04:07:22.985 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 04:07:22.986 +03:00 [INF] Hosting environment: Development
2023-12-28 04:07:22.986 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 04:07:23.804 +03:00 [INF] Server desktop-eni7p6d:17656:6c8c965c successfully announced in 818.1917 ms
2023-12-28 04:07:23.811 +03:00 [INF] Server desktop-eni7p6d:17656:6c8c965c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 04:07:24.462 +03:00 [INF] Server desktop-eni7p6d:17656:6c8c965c all the dispatchers started
2023-12-28 04:07:27.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 04:07:28.024 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:07:28.354 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 780.3792ms
2023-12-28 04:07:28.509 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 04:07:28.557 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 48.2291ms
2023-12-28 04:07:28.558 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 04:07:28.721 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 162.6132ms
2023-12-28 04:07:28.827 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 04:07:29.139 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 312.6599ms
2023-12-28 04:07:30.497 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 04:07:31.618 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:07:53.430 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 04:07:53.649 +03:00 [INF] CORS policy execution successful.
2023-12-28 04:07:53.657 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:07:53.693 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 04:07:53.696 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:07:53.907 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:07:55.828 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 04:07:56.188 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:08:13.001 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:08:13.042 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:08:15.518 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
2023-12-28 04:08:15.877 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 35
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:08:15.894 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 04:08:15.904 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 22204.2756ms
2023-12-28 04:08:15.906 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:08:15.910 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 22466.6143 ms
2023-12-28 04:08:15.913 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 22482.3482ms
2023-12-28 04:08:29.026 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 04:08:29.026 +03:00 [INF] Server desktop-eni7p6d:17656:6c8c965c caught stopping signal...
2023-12-28 04:08:29.328 +03:00 [INF] Server desktop-eni7p6d:17656:6c8c965c caught stopped signal...
2023-12-28 04:08:29.357 +03:00 [WRN] Server desktop-eni7p6d:17656:6c8c965c caught shutdown signal...
2023-12-28 04:08:29.797 +03:00 [WRN] Server desktop-eni7p6d:17656:6c8c965c stopped non-gracefully due to Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2023-12-28 04:08:30.087 +03:00 [INF] Server desktop-eni7p6d:17656:6c8c965c successfully reported itself as stopped in 187.8632 ms
2023-12-28 04:08:30.087 +03:00 [INF] Server desktop-eni7p6d:17656:6c8c965c has been stopped in total 780.1461 ms
2023-12-28 04:08:57.874 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 04:09:00.929 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 04:09:01.307 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 04:09:01.840 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 04:09:01.841 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 04:09:01.850 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 04:09:01.851 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 04:09:01.851 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 04:09:02.582 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 04:09:02.582 +03:00 [INF] Hosting environment: Development
2023-12-28 04:09:02.582 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 04:09:02.882 +03:00 [INF] Server desktop-eni7p6d:10016:0d10e2b3 successfully announced in 509.8677 ms
2023-12-28 04:09:02.891 +03:00 [INF] Server desktop-eni7p6d:10016:0d10e2b3 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 04:09:03.506 +03:00 [INF] Server desktop-eni7p6d:10016:0d10e2b3 all the dispatchers started
2023-12-28 04:09:05.198 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 04:09:05.799 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 606.3796ms
2023-12-28 04:09:05.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 04:09:05.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 04:09:05.867 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 8.3305ms
2023-12-28 04:09:05.957 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.6815ms
2023-12-28 04:09:06.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 04:09:06.317 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 226.016ms
2023-12-28 04:09:06.699 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:09:09.231 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 04:09:10.788 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:09:11.111 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 04:09:11.262 +03:00 [INF] CORS policy execution successful.
2023-12-28 04:09:11.267 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:09:11.291 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 04:09:11.294 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:09:11.982 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:09:35.019 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 34
2023-12-28 04:09:35.820 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 34
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:09:36.408 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 34
2023-12-28 04:09:36.645 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 34
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:09:36.712 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 04:09:36.721 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 25424.469ms
2023-12-28 04:09:36.722 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:09:36.727 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 25604.3042 ms
2023-12-28 04:09:36.730 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 25619.6829ms
2023-12-28 04:10:06.536 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:10:06.576 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:10:26.687 +03:00 [ERR] Error sending email to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 34
2023-12-28 04:10:26.833 +03:00 [ERR] Error in sending Emails toThe Customers
System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at SendGrid.Helpers.Reliability.RetryDelegatingHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at SendGrid.BaseClient.MakeRequest(HttpRequestMessage request, CancellationToken cancellationToken)
   at SendGrid.BaseClient.RequestAsync(Method method, String requestBody, String queryParams, String urlPath, CancellationToken cancellationToken)
   at SendGrid.BaseClient.SendEmailAsync(SendGridMessage msg, CancellationToken cancellationToken)
   at E_CommerceSystemV2.BL.Services.MailService.MailingService.SendEmail(String subject, String toEmail, String userName, String message) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Services\MailService\MailingService.cs:line 34
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 40
2023-12-28 04:10:55.883 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 04:10:55.883 +03:00 [INF] Server desktop-eni7p6d:10016:0d10e2b3 caught stopping signal...
2023-12-28 04:10:56.026 +03:00 [INF] Server desktop-eni7p6d:10016:0d10e2b3 caught stopped signal...
2023-12-28 04:10:56.026 +03:00 [WRN] Server desktop-eni7p6d:10016:0d10e2b3 caught shutdown signal...
2023-12-28 04:10:56.236 +03:00 [WRN] Server desktop-eni7p6d:10016:0d10e2b3 stopped non-gracefully due to ServerWatchdog, Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2023-12-28 04:10:56.313 +03:00 [INF] Server desktop-eni7p6d:10016:0d10e2b3 successfully reported itself as stopped in 9.7794 ms
2023-12-28 04:10:56.313 +03:00 [INF] Server desktop-eni7p6d:10016:0d10e2b3 has been stopped in total 286.8906 ms
2023-12-28 04:11:46.904 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 04:11:47.488 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 04:11:47.632 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 04:11:47.840 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 04:11:47.840 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 04:11:47.844 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 04:11:47.845 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 04:11:47.845 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 04:11:47.868 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 04:11:47.868 +03:00 [INF] Hosting environment: Development
2023-12-28 04:11:47.868 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 04:11:47.985 +03:00 [INF] Server desktop-eni7p6d:13508:39f0be5a successfully announced in 116.6056 ms
2023-12-28 04:11:47.990 +03:00 [INF] Server desktop-eni7p6d:13508:39f0be5a is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 04:11:48.302 +03:00 [INF] Server desktop-eni7p6d:13508:39f0be5a all the dispatchers started
2023-12-28 04:11:48.919 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:11:49.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 04:11:50.201 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 324.6701ms
2023-12-28 04:11:50.826 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 04:11:51.695 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:11:52.277 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 04:11:52.277 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 04:11:52.292 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 15.0907ms
2023-12-28 04:11:52.384 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 107.0569ms
2023-12-28 04:11:52.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 04:11:52.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 242.8089ms
2023-12-28 04:11:52.736 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:11:53.158 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:11:57.363 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 04:11:57.660 +03:00 [INF] CORS policy execution successful.
2023-12-28 04:11:57.664 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:11:57.693 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 04:11:57.696 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:11:57.858 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:11:58.281 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:11:58.742 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:11:58.754 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 04:11:58.762 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 1063.3265ms
2023-12-28 04:11:58.763 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:11:58.766 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 1393.8062 ms
2023-12-28 04:11:58.777 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 1413.7023ms
2023-12-28 04:12:03.883 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:12:03.910 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:12:04.430 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:12:04.917 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:12:43.081 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 04:12:43.081 +03:00 [INF] Server desktop-eni7p6d:13508:39f0be5a caught stopping signal...
2023-12-28 04:12:43.431 +03:00 [INF] Server desktop-eni7p6d:13508:39f0be5a caught stopped signal...
2023-12-28 04:12:43.439 +03:00 [WRN] Server desktop-eni7p6d:13508:39f0be5a caught shutdown signal...
2023-12-28 04:12:43.572 +03:00 [INF] Server desktop-eni7p6d:13508:39f0be5a All dispatchers stopped
2023-12-28 04:12:43.635 +03:00 [INF] Server desktop-eni7p6d:13508:39f0be5a successfully reported itself as stopped in 7.7667 ms
2023-12-28 04:12:43.635 +03:00 [INF] Server desktop-eni7p6d:13508:39f0be5a has been stopped in total 277.1129 ms
2023-12-28 04:19:35.991 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 04:19:36.694 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 04:19:36.847 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 04:19:37.041 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 04:19:37.041 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 04:19:37.045 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 04:19:37.045 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 04:19:37.045 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 04:19:37.065 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 04:19:37.065 +03:00 [INF] Hosting environment: Development
2023-12-28 04:19:37.065 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 04:19:37.218 +03:00 [INF] Server desktop-eni7p6d:21120:f1152031 successfully announced in 152.8906 ms
2023-12-28 04:19:37.221 +03:00 [INF] Server desktop-eni7p6d:21120:f1152031 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 04:19:37.450 +03:00 [INF] Server desktop-eni7p6d:21120:f1152031 all the dispatchers started
2023-12-28 04:19:38.192 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:19:38.263 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:19:39.463 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 04:19:40.458 +03:00 [ERR] Error in sending Emails toThe Customers
System.IO.IOException: The process cannot access the file 'C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API\Queries.sql' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.File.OpenHandle(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.File.WriteToFile(String path, FileMode mode, String contents, Encoding encoding)
   at E_CommerceSystemV2.API.ECommerceContext.<>c.<OnConfiguring>b__15_0(String query) in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 25
   at Microsoft.EntityFrameworkCore.Diagnostics.Internal.FormattingDbContextLogger.Log(EventData eventData)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.ContextInitialized(IDiagnosticsLogger`1 diagnostics, DbContext context, DbContextOptions contextOptions)
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at E_CommerceSystemV2.API.ECommerceContext.get_CampaignCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Data\Context\ECommerceContext.cs:line 16
   at E_CommerceSystemV2.DAL.Repos.CampaignsCustomers.CampaignsCustomersRepo.GetCustomersEmails() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.DAL\Repos\Customers\CampaignsCustomersRepo.cs:line 23
   at E_CommerceSystemV2.BL.Managers.CampaignCustomer.CampaignCustomersManager.SendingEmailsForNewCustomers() in C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.BL\Managers\CampaignCustomer\CampaignCustomersManager.cs:line 32
2023-12-28 04:19:41.443 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:19:42.975 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:19:44.308 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:19:45.546 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 04:19:45.912 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 374.1874ms
2023-12-28 04:19:45.952 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 04:19:46.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 04:19:46.065 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 112.4875ms
2023-12-28 04:19:46.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 106.7181ms
2023-12-28 04:19:46.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 04:19:46.555 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 288.8841ms
2023-12-28 04:19:51.358 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 04:19:51.608 +03:00 [INF] CORS policy execution successful.
2023-12-28 04:19:51.612 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:19:51.631 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 04:19:51.633 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:19:51.773 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:19:52.638 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:19:53.091 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:19:53.101 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 04:19:53.110 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 1473.8603ms
2023-12-28 04:19:53.112 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:19:53.117 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 1744.8704 ms
2023-12-28 04:19:53.138 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 1779.6588ms
2023-12-28 04:20:08.639 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:20:08.653 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:20:09.027 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to E-Commerce!
2023-12-28 04:20:09.390 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to E-Commerce!
2023-12-28 04:20:51.053 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2023-12-28 04:20:51.054 +03:00 [INF] Server desktop-eni7p6d:21120:f1152031 caught stopping signal...
2023-12-28 04:20:51.277 +03:00 [INF] Server desktop-eni7p6d:21120:f1152031 caught stopped signal...
2023-12-28 04:20:51.293 +03:00 [WRN] Server desktop-eni7p6d:21120:f1152031 caught shutdown signal...
2023-12-28 04:20:51.604 +03:00 [WRN] Server desktop-eni7p6d:21120:f1152031 stopped non-gracefully due to Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
2023-12-28 04:20:51.676 +03:00 [INF] Server desktop-eni7p6d:21120:f1152031 successfully reported itself as stopped in 5.8319 ms
2023-12-28 04:20:51.676 +03:00 [INF] Server desktop-eni7p6d:21120:f1152031 has been stopped in total 407.3403 ms
2023-12-28 04:20:59.793 +03:00 [INF] Start installing Hangfire SQL objects...
2023-12-28 04:21:00.355 +03:00 [INF] Hangfire SQL objects installed.
2023-12-28 04:21:00.521 +03:00 [INF] User profile is available. Using 'C:\Users\Desktop\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-12-28 04:21:00.768 +03:00 [INF] Now listening on: https://localhost:7175
2023-12-28 04:21:00.768 +03:00 [INF] Now listening on: http://localhost:5117
2023-12-28 04:21:00.776 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: .@E-Commerce'
2023-12-28 04:21:00.776 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2023-12-28 04:21:00.776 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2023-12-28 04:21:00.927 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-28 04:21:00.927 +03:00 [INF] Hosting environment: Development
2023-12-28 04:21:00.928 +03:00 [INF] Content root path: C:\Users\Desktop\Desktop\E-Commerce V2\E-CommerceSystemV2.API
2023-12-28 04:21:01.102 +03:00 [INF] Server desktop-eni7p6d:2272:ba00ca18 successfully announced in 174.4992 ms
2023-12-28 04:21:01.107 +03:00 [INF] Server desktop-eni7p6d:2272:ba00ca18 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2023-12-28 04:21:01.361 +03:00 [INF] Server desktop-eni7p6d:2272:ba00ca18 all the dispatchers started
2023-12-28 04:21:02.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/index.html - null null
2023-12-28 04:21:03.252 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/index.html - 200 null text/html;charset=utf-8 493.421ms
2023-12-28 04:21:03.252 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:21:04.697 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 04:21:04.704 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 04:21:04.791 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 87.0163ms
2023-12-28 04:21:04.912 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 214.9687ms
2023-12-28 04:21:05.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - null null
2023-12-28 04:21:05.206 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2023-12-28 04:21:05.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 263.2865ms
2023-12-28 04:21:06.260 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:21:06.790 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2023-12-28 04:21:07.180 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2023-12-28 04:21:26.674 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - null 0
2023-12-28 04:21:26.812 +03:00 [INF] CORS policy execution successful.
2023-12-28 04:21:26.816 +03:00 [INF] Executing endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:21:26.830 +03:00 [INF] Route matched with {action = "SendEmails", controller = "CustomersCampaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SendEmails() on controller E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController (E-CommerceSystemV2.API).
2023-12-28 04:21:26.831 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:21:26.929 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:21:27.393 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2023-12-28 04:21:27.776 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2023-12-28 04:21:27.793 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-12-28 04:21:27.802 +03:00 [INF] Executed action E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API) in 966.8708ms
2023-12-28 04:21:27.803 +03:00 [INF] Executed endpoint 'E_CommerceSystemV2.API.Controllers.Customers.CustomersCampaignController.SendEmails (E-CommerceSystemV2.API)'
2023-12-28 04:21:27.809 +03:00 [INF] HTTP POST /api/CustomersCampaign/send-Emails responded 200 in 1116.0507 ms
2023-12-28 04:21:27.827 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/api/CustomersCampaign/send-Emails - 200 null text/plain; charset=utf-8 1152.5936ms
2023-12-28 04:21:39.143 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/dashboard - null null
2023-12-28 04:21:39.334 +03:00 [INF] HTTP GET /dashboard responded 200 in 180.4252 ms
2023-12-28 04:21:39.335 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/dashboard - 200 null text/html 191.6954ms
2023-12-28 04:21:39.338 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/dashboard/css18601559496039 - null null
2023-12-28 04:21:39.339 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/dashboard/css-dark18601293373304 - null null
2023-12-28 04:21:39.402 +03:00 [INF] HTTP GET /dashboard/css-dark18601293373304 responded 200 in 62.7818 ms
2023-12-28 04:21:39.405 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/dashboard/css-dark18601293373304 - 200 null text/css 65.7171ms
2023-12-28 04:21:39.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/dashboard/js1860326186309 - null null
2023-12-28 04:21:39.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 04:21:39.413 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 04:21:39.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 44.4963ms
2023-12-28 04:21:39.457 +03:00 [INF] HTTP GET /dashboard/css18601559496039 responded 200 in 118.4293 ms
2023-12-28 04:21:39.458 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/dashboard/css18601559496039 - 200 null text/css 119.9913ms
2023-12-28 04:21:39.704 +03:00 [INF] HTTP GET /dashboard/js1860326186309 responded 200 in 292.0132 ms
2023-12-28 04:21:39.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/dashboard/js1860326186309 - 200 null application/javascript 292.5962ms
2023-12-28 04:21:39.707 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 294.6967ms
2023-12-28 04:21:41.928 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/dashboard/recurring - null null
2023-12-28 04:21:42.019 +03:00 [INF] HTTP GET /dashboard/recurring responded 200 in 76.5389 ms
2023-12-28 04:21:42.020 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/dashboard/recurring - 200 null text/html 91.5858ms
2023-12-28 04:21:42.092 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - null null
2023-12-28 04:21:42.095 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7175/_vs/browserLink - null null
2023-12-28 04:21:42.098 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 5.8584ms
2023-12-28 04:21:42.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7175/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.9489ms
2023-12-28 04:21:44.225 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:21:44.276 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 49.7488 ms
2023-12-28 04:21:44.277 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 51.039ms
2023-12-28 04:21:46.289 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:21:46.299 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9.0972 ms
2023-12-28 04:21:46.299 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 9.4772ms
2023-12-28 04:21:48.308 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:21:48.319 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 10.4256 ms
2023-12-28 04:21:48.319 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 11.4462ms
2023-12-28 04:21:50.331 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:21:50.344 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 12.5418 ms
2023-12-28 04:21:50.344 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 13.3056ms
2023-12-28 04:21:52.355 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:21:52.378 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 23.1651 ms
2023-12-28 04:21:52.379 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 23.5085ms
2023-12-28 04:21:54.392 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:21:54.400 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 7.9924 ms
2023-12-28 04:21:54.400 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 8.5109ms
2023-12-28 04:21:56.413 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:21:56.426 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 13.0183 ms
2023-12-28 04:21:56.426 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 13.7854ms
2023-12-28 04:21:58.441 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:21:58.455 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 12.5515 ms
2023-12-28 04:21:58.455 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 13.6109ms
2023-12-28 04:22:00.470 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:00.492 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 21.9749 ms
2023-12-28 04:22:00.493 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 22.5132ms
2023-12-28 04:22:02.500 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:02.510 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 10.1079 ms
2023-12-28 04:22:02.511 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 10.5622ms
2023-12-28 04:22:03.146 +03:00 [INF] Retrieved SendGrid API key: {_sendGridApiKey}
2023-12-28 04:22:03.179 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Email]
FROM [CampaignCustomers] AS [c]
2023-12-28 04:22:03.645 +03:00 [INF] Email sent successfully to Jamal_Ali@outlook.com with subject: Welcome to SwiftCart!
2023-12-28 04:22:04.031 +03:00 [INF] Email sent successfully to marwaghonem299@gmail.com with subject: Welcome to SwiftCart!
2023-12-28 04:22:04.528 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:04.545 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 16.3141 ms
2023-12-28 04:22:04.545 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 16.7217ms
2023-12-28 04:22:06.568 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:06.597 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 29.0495 ms
2023-12-28 04:22:06.597 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 29.3612ms
2023-12-28 04:22:08.608 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:08.619 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 10.0316 ms
2023-12-28 04:22:08.619 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 10.808ms
2023-12-28 04:22:10.636 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:10.644 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 7.3438 ms
2023-12-28 04:22:10.644 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 8.0575ms
2023-12-28 04:22:12.652 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:12.668 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 15.1449 ms
2023-12-28 04:22:12.668 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 15.4458ms
2023-12-28 04:22:14.673 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:14.684 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 11.0102 ms
2023-12-28 04:22:14.684 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 11.8553ms
2023-12-28 04:22:16.693 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:16.702 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 8.6599 ms
2023-12-28 04:22:16.702 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 9.0957ms
2023-12-28 04:22:18.711 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:18.725 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 13.2212 ms
2023-12-28 04:22:18.725 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 13.9279ms
2023-12-28 04:22:20.730 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:20.748 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 18.1904 ms
2023-12-28 04:22:20.748 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 18.5365ms
2023-12-28 04:22:22.758 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:22.765 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 7.1095 ms
2023-12-28 04:22:22.765 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 7.3853ms
2023-12-28 04:22:24.777 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:24.784 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 6.9222 ms
2023-12-28 04:22:24.785 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 7.5654ms
2023-12-28 04:22:26.793 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:26.800 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 7.2533 ms
2023-12-28 04:22:26.800 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 7.9783ms
2023-12-28 04:22:28.818 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:28.832 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 13.8600 ms
2023-12-28 04:22:28.832 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 14.1582ms
2023-12-28 04:22:30.845 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:30.860 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 15.1879 ms
2023-12-28 04:22:30.860 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 15.4837ms
2023-12-28 04:22:32.865 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:32.874 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 9.2392 ms
2023-12-28 04:22:32.874 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 9.8973ms
2023-12-28 04:22:34.883 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:34.895 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 11.8556 ms
2023-12-28 04:22:34.895 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 12.5363ms
2023-12-28 04:22:36.908 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:36.919 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 10.5557 ms
2023-12-28 04:22:36.919 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 11.0249ms
2023-12-28 04:22:38.927 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:38.941 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 14.5734 ms
2023-12-28 04:22:38.941 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 15.161ms
2023-12-28 04:22:40.950 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:40.967 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 16.3796 ms
2023-12-28 04:22:40.967 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 16.9026ms
2023-12-28 04:22:42.981 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:42.993 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 12.4444 ms
2023-12-28 04:22:42.993 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 12.7683ms
2023-12-28 04:22:45.000 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7175/dashboard/stats - application/x-www-form-urlencoded; charset=UTF-8 167
2023-12-28 04:22:45.008 +03:00 [INF] HTTP POST /dashboard/stats responded 200 in 7.9089 ms
2023-12-28 04:22:45.008 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7175/dashboard/stats - 200 null application/json 8.3941ms
